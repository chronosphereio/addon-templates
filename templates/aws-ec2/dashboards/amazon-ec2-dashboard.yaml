api_version: v1/config
kind: Dashboard
spec:
  slug: amazon-ec2
  name: Amazon EC2
  collection_slug: aws-collection
  dashboard_json: '{"kind":"Dashboard","spec":{"datasource":null,"duration":"12h","layouts":[{"kind":"Grid","spec":{"display":{"collapse":{"open":true},"title":"Information"},"items":[{"content":{"$ref":"#/spec/panels/-34"},"height":4,"width":24,"x":0,"y":0}]}},{"kind":"Grid","spec":{"display":{"collapse":{"open":true},"title":"Overview (Filter by Env, Region, Account)"},"items":[{"content":{"$ref":"#/spec/panels/NumberofInstances"},"height":6,"width":12,"x":0,"y":0},{"content":{"$ref":"#/spec/panels/NumberofInstances-2"},"height":6,"width":12,"x":12,"y":0},{"content":{"$ref":"#/spec/panels/NumberofInstances-1"},"height":6,"width":12,"x":0,"y":6},{"content":{"$ref":"#/spec/panels/NumberofAutoScalingGroups"},"height":6,"width":12,"x":12,"y":6},{"content":{"$ref":"#/spec/panels/cpuUtilizationPerInstanceMax-2"},"height":6,"width":12,"x":0,"y":12},{"content":{"$ref":"#/spec/panels/MaxInstanceCPUutilization%"},"height":6,"width":12,"x":12,"y":12},{"content":{"$ref":"#/spec/panels/totalNetworkTrafficOutboundAndInboundBytesSec-7"},"height":9,"width":24,"x":0,"y":18}]}},{"kind":"Grid","spec":{"display":{"collapse":{"open":false},"title":"Network details"},"items":[{"content":{"$ref":"#/spec/panels/inboundNetworkTrafficPerInstanceBytesSec-17"},"height":9,"width":12,"x":0,"y":0},{"content":{"$ref":"#/spec/panels/InboundnetworktrafficperAutoScalingGroup[bytes/sec]-3"},"height":9,"width":12,"x":12,"y":0},{"content":{"$ref":"#/spec/panels/InboundnetworktrafficperAutoScalingGroup[bytes/sec]"},"height":9,"width":12,"x":0,"y":9},{"content":{"$ref":"#/spec/panels/Inboundnetworktrafficperinstance[bytes/sec]"},"height":9,"width":12,"x":12,"y":9}]}},{"kind":"Grid","spec":{"display":{"collapse":{"open":false},"title":"EBS details"},"items":[{"content":{"$ref":"#/spec/panels/theFollowingMetricsAreReportedForEc2InstanceStoreVolumesForAmazonEbsVolumesSeeTheEbsDashboard-30"},"height":1,"width":24,"x":0,"y":0},{"content":{"$ref":"#/spec/panels/diskReadPerInstanceBytesSec-3"},"height":9,"width":12,"x":0,"y":1},{"content":{"$ref":"#/spec/panels/diskWritePerInstanceBytesSec-22"},"height":9,"width":12,"x":12,"y":1},{"content":{"$ref":"#/spec/panels/DiskREADperinstance[bytes/sec]"},"height":9,"width":12,"x":0,"y":10},{"content":{"$ref":"#/spec/panels/DiskREADperinstance[OPS]"},"height":9,"width":12,"x":12,"y":10}]}},{"kind":"Grid","spec":{"display":{"collapse":{"open":false},"title":"Status Checks"},"items":[{"content":{"$ref":"#/spec/panels/Statuscheckfailed[Sum]"},"height":6,"width":6,"x":0,"y":0},{"content":{"$ref":"#/spec/panels/statusCheckFailedSum-10"},"height":6,"width":18,"x":6,"y":0},{"content":{"$ref":"#/spec/panels/Statuscheckfailed[Sum]-1"},"height":6,"width":6,"x":0,"y":6},{"content":{"$ref":"#/spec/panels/Statuscheckfailed[Sum]-2"},"height":6,"width":18,"x":6,"y":6},{"content":{"$ref":"#/spec/panels/StatuscheckfailedInstance[average]-3"},"height":6,"width":18,"x":6,"y":12},{"content":{"$ref":"#/spec/panels/StatuscheckfailedInstance[average]"},"height":6,"width":6,"x":0,"y":12},{"content":{"$ref":"#/spec/panels/systemStatusCheckFailedSum-28"},"height":6,"width":24,"x":0,"y":18}]}}],"panels":{"-34":{"kind":"Panel","spec":{"display":{"description":"","name":" "},"formulas":[],"links":[],"plugin":{"kind":"Markdown","spec":{"text":"For more information about avaialble metrics from Amazon EC2, visit the [List of Available CloudWatch Metrics for Your EC2 Instances](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/viewing_metrics_with_cloudwatch.html) in the Amazon documentation.\n"}},"queries":[]}},"DiskREADperinstance[OPS]":{"kind":"Panel","spec":{"display":{"description":"","name":"Disk WRITE per instance [OPS]"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Right","values":[]},"tooltip":{"mode":"nearby"},"visual":{"area_opacity":0.05,"null_behavior":"NullAsZero"},"y_axis":{"min":0,"unit":{"kind":"Bytes"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum by (dimension_InstanceId) (sum_per_second(aws_ec2_EBSWriteOps_sum{dimension_InstanceId!=\"\"}[$__rate_interval]))","series_name":{"name_pattern":"{{dimension_InstanceId}}","type":"Labels"}}}}}]}},"DiskREADperinstance[bytes/sec]":{"kind":"Panel","spec":{"display":{"description":"","name":"Disk READ per instance [OPS]"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Right","values":[]},"tooltip":{"mode":"nearby"},"visual":{"area_opacity":0.05,"null_behavior":"NullAsZero"},"y_axis":{"min":0,"unit":{"kind":"Bytes"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum by (dimension_InstanceId) (sum_per_second(aws_ec2_EBSReadOps_sum{dimension_InstanceId!=\"\"}[$__rate_interval]))","series_name":{"name_pattern":"{{dimension_InstanceId}}","type":"Labels"}}}}}]}},"InboundnetworktrafficperAutoScalingGroup[bytes/sec]":{"kind":"Panel","spec":{"display":{"description":"","name":"Inbound network traffic per instance [bytes/sec]"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"Table","position":"Right","size":"Medium","values":["Mean","LastNumber","Sum"]},"tooltip":{"mode":"nearby"},"visual":{"area_opacity":0.1,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"kind":"Bytes"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum by(dimension_InstanceId) (sum_per_second(aws_ec2_NetworkIn_sum{dimension_InstanceId=~\"$aws_instance_id\", env=~\"$env\", cloud_region=~\"$aws_region\", cloud_account_id=~\"$aws_account\"}[$__rate_interval]))","series_name":{"name_pattern":"{{ dimension_InstanceId }}","type":"Labels"}}}}}]}},"InboundnetworktrafficperAutoScalingGroup[bytes/sec]-3":{"kind":"Panel","spec":{"display":{"description":"","name":"Inbound network traffic per AutoScaling Group [bytes/sec]"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"Table","position":"Right","size":"Medium","values":["Mean","LastNumber","Sum"]},"tooltip":{"mode":"nearby"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"kind":"Bytes"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum by(dimension_AutoScalingGroupName) (sum_per_second(aws_ec2_NetworkOut_sum{dimension_AutoScalingGroupName!=\"\", env=~\"$env\", cloud_region=~\"$aws_region\", cloud_account_id=~\"$aws_account\"}[$__rate_interval]))","series_name":{"name_pattern":"{{ dimension_AutoScalingGroupName }}","type":"Labels"}}}}}]}},"Inboundnetworktrafficperinstance[bytes/sec]":{"kind":"Panel","spec":{"display":{"description":"","name":"Inbound network traffic per instance [bytes/sec]"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"Table","position":"Right","size":"Medium","values":["Mean","LastNumber","Sum"]},"tooltip":{"mode":"nearby"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"kind":"Bytes"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum by(dimension_InstanceId) (sum_per_second(aws_ec2_NetworkOut_sum{dimension_InstanceId=~\"$aws_instance_id\", env=~\"$env\", cloud_region=~\"$aws_region\", cloud_account_id=~\"$aws_account\"}[$__rate_interval]))","series_name":{"name_pattern":"{{ dimension_InstanceId }}","type":"Labels"}}}}}]}},"MaxInstanceCPUutilization%":{"kind":"Panel","spec":{"display":{"description":"","name":"Max Instance CPU utilization %"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"tooltip":{"mode":"single"},"visual":{"area_opacity":0.15,"colorPalette":"Categorical","line_width":1}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"aws_ec2_CPUUtilization_maximum{env=~\"$env\", cloud_region=~\"$aws_region\", cloud_account_id=~\"$aws_account\", dimension_InstanceId!=\"\"}","series_name":{"name_pattern":"{{ dimension_InstanceId }}","type":"Labels"}}}}}]}},"NumberofAutoScalingGroups":{"kind":"Panel","spec":{"display":{"description":"","name":"Number of Auto Scaling Groups"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"tooltip":{"mode":"single"},"visual":{"area_opacity":0,"display":"bar","line_width":1}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"count(count by(dimension_AutoScalingGroupName)(sum_per_second(aws_ec2_CPUUtilization_count{env=~\"$env\", cloud_region=~\"$aws_region\", cloud_account_id=~\"$aws_account\"}[$__rate_interval])))"}}}}]}},"NumberofInstances":{"kind":"Panel","spec":{"display":{"description":"","name":"Number of Instances"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","unit":{"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"count(count by(dimension_InstanceId)(aws_ec2_CPUUtilization_count{env=~\"$env\", cloud_region=~\"$aws_region\", cloud_account_id=~\"$aws_account\"}))","queryType":"Instant"}}}}]}},"NumberofInstances-1":{"kind":"Panel","spec":{"display":{"description":"","name":"Number of Auto Scaling Groups"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","unit":{"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"count(count by(dimension_AutoScalingGroupName)(sum_per_second(aws_ec2_CPUUtilization_count{env=~\"$env\", cloud_region=~\"$aws_region\", cloud_account_id=~\"$aws_account\"}[$__rate_interval] offset 5m)))","queryType":"Instant"}}}}]}},"NumberofInstances-2":{"kind":"Panel","spec":{"display":{"description":"","name":"Number of Instances"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"tooltip":{"mode":"single"},"visual":{"area_opacity":0,"display":"bar","line_width":1}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"count(count by(dimension_InstanceId)(aws_ec2_CPUUtilization_count{env=~\"$env\", cloud_region=~\"$aws_region\", cloud_account_id=~\"$aws_account\"}))"}}}}]}},"StatuscheckfailedInstance[average]":{"kind":"Panel","spec":{"display":{"description":"Reports whether the instance has passed the instance status check in the last minute.  This metric can be either 0 (passed) or 1 (failed).","name":"Status check failed System [average]"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","unit":{"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"$__range","query":"sum(sum_over_time(aws_ec2_StatusCheckFailed_System_average{env=~\"$env\", cloud_region=~\"$aws_region\", cloud_account_id=~\"$aws_account\"}[$__range]))"}}}}]}},"StatuscheckfailedInstance[average]-3":{"kind":"Panel","spec":{"display":{"description":"Reports whether the instance has passed the instance status check in the last minute.  This metric can be either 0 (passed) or 1 (failed).","name":"Status check failed System [average]"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Right","values":[]},"tooltip":{"mode":"nearby"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"aws_ec2_StatusCheckFailed_System_average{env=~\"$env\", cloud_region=~\"$aws_region\", cloud_account_id=~\"$aws_account\"}"}}}}]}},"Statuscheckfailed[Sum]":{"kind":"Panel","spec":{"display":{"description":"Reports whether the instance has passed all status checks in the last minute.  This metric can be either 0 (passed) or 1 (failed).","name":"Status check failed [average]"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","unit":{"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"$__range","query":"sum(sum_over_time(aws_ec2_StatusCheckFailed_average{env=~\"$env\", cloud_region=~\"$aws_region\", cloud_account_id=~\"$aws_account\"}[$__range]))"}}}}]}},"Statuscheckfailed[Sum]-1":{"kind":"Panel","spec":{"display":{"description":"Reports whether the instance has passed the instance status check in the last minute.  This metric can be either 0 (passed) or 1 (failed).","name":"Status check failed Instance [average]"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","unit":{"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"$__range","query":"sum(sum_over_time(aws_ec2_StatusCheckFailed_Instance_average{env=~\"$env\", cloud_region=~\"$aws_region\", cloud_account_id=~\"$aws_account\"}[$__range]))"}}}}]}},"Statuscheckfailed[Sum]-2":{"kind":"Panel","spec":{"display":{"description":"Reports whether the instance has passed the instance status check in the last minute.  This metric can be either 0 (passed) or 1 (failed).","name":"Status check failed Instance [average]"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Right","values":[]},"tooltip":{"mode":"nearby"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"aws_ec2_StatusCheckFailed_Instance_average{env=~\"$env\", cloud_region=~\"$aws_region\", cloud_account_id=~\"$aws_account\"}"}}}}]}},"cpuUtilizationPerInstanceMax-2":{"kind":"Panel","spec":{"display":{"description":"","name":"Max Instance CPU utilization %"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","show_series_name":"Always","thresholds":{"base":{"name":""},"steps":[{"value":85},{"color":"#C53C3F","value":95}]},"unit":{"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"head_max(aws_ec2_CPUUtilization_maximum{env=~\"$env\", cloud_region=~\"$aws_region\", cloud_account_id=~\"$aws_account\", dimension_InstanceId!=\"\"},1)","series_name":{"name_pattern":"{{ dimension_InstanceId }}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"disabled":true,"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"max by(dimension_InstanceId) (aws_ec2_CPUUtilization_maximum{env=~\"$env\", cloud_region=~\"$aws_region\", cloud_account_id=~\"$aws_account\"})","series_name":{"name_pattern":"{{ dimension_InstanceId }}","type":"Labels"}}}}}]}},"diskReadPerInstanceBytesSec-3":{"kind":"Panel","spec":{"display":{"description":"","name":"Disk READ per instance [bytes/sec]"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Right","values":[]},"tooltip":{"mode":"nearby"},"visual":{"area_opacity":0.05,"null_behavior":"NullAsZero"},"y_axis":{"min":0,"unit":{"kind":"Bytes"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum by (dimension_InstanceId) (sum_per_second(aws_ec2_EBSReadBytes_sum{dimension_InstanceId!=\"\"}[$__rate_interval]))","series_name":{"name_pattern":"{{dimension_InstanceId}}","type":"Labels"}}}}}]}},"diskWritePerInstanceBytesSec-22":{"kind":"Panel","spec":{"display":{"description":"","name":"Disk WRITE per instance [bytes/sec]"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Right","values":[]},"tooltip":{"mode":"nearby"},"visual":{"area_opacity":0.05,"null_behavior":"NullAsZero"},"y_axis":{"min":0,"unit":{"kind":"Bytes"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum by (dimension_InstanceId) (sum_per_second(aws_ec2_EBSWriteBytes_sum{dimension_InstanceId!=\"\"}[$__rate_interval]))","series_name":{"name_pattern":"{{dimension_InstanceId}}","type":"Labels"}}}}}]}},"inboundNetworkTrafficPerInstanceBytesSec-17":{"kind":"Panel","spec":{"display":{"description":"","name":"Inbound network traffic per AutoScaling Group [bytes/sec]"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"Table","position":"Right","size":"Medium","values":["Mean","LastNumber","Sum"]},"tooltip":{"mode":"nearby"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"kind":"Bytes"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum by(dimension_AutoScalingGroupName) (sum_per_second(aws_ec2_NetworkIn_sum{dimension_AutoScalingGroupName!=\"\", env=~\"$env\", cloud_region=~\"$aws_region\", cloud_account_id=~\"$aws_account\"}[$__rate_interval]))","series_name":{"name_pattern":"{{ dimension_AutoScalingGroupName }}","type":"Labels"}}}}}]}},"statusCheckFailedSum-10":{"kind":"Panel","spec":{"display":{"description":"Reports whether the instance has passed all status checks in the last minute.  This metric can be either 0 (passed) or 1 (failed).","name":"Status check failed [average]"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Right","values":[]},"tooltip":{"mode":"nearby"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"aws_ec2_StatusCheckFailed_average{env=~\"$env\", cloud_region=~\"$aws_region\", cloud_account_id=~\"$aws_account\"}"}}}}]}},"systemStatusCheckFailedSum-28":{"kind":"Panel","spec":{"display":{"description":"","name":"System status check failed [Sum]"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Right","values":[]},"tooltip":{"mode":"nearby"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":""}}}}]}},"theFollowingMetricsAreReportedForEc2InstanceStoreVolumesForAmazonEbsVolumesSeeTheEbsDashboard-30":{"kind":"Panel","spec":{"display":{"name":"The following metrics are reported for EC2 Instance Store Volumes. For Amazon EBS volumes, see the EBS dashboard."},"plugin":{"kind":"Markdown","spec":{"text":""}},"queries":[]}},"totalNetworkTrafficOutboundAndInboundBytesSec-7":{"kind":"Panel","spec":{"display":{"description":"","name":"Total network traffic outbound (+) and inbound (-) [bytes/sec]"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"Bottom"},"tooltip":{"mode":"nearby"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"unit":{"kind":"Bytes"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum (sum_per_second(aws_ec2_NetworkIn_sum{env=~\"$env\", cloud_region=~\"$aws_region\", cloud_account_id=~\"$aws_account\"}[$__rate_interval]))","series_name":{"name_pattern":"Inbound","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"(sum(sum_per_second(aws_ec2_NetworkOut_sum{env=~\"$env\", cloud_region=~\"$aws_region\", cloud_account_id=~\"$aws_account\"}[$__rate_interval])) * -1)","series_name":{"name_pattern":"Outbound","type":"Labels"}}}}}]}}},"variables":[{"kind":"ListVariable","spec":{"allow_all_value":false,"allow_multiple":false,"default_value":"5m","display":{"hidden":true,"name":"Interval"},"name":"interval","plugin":{"kind":"StaticListVariable","spec":{"values":[{"label":"5m","value":"5m"},{"label":"1h","value":"1h"},{"label":"1d","value":"1d"}]}},"refresh":"DashboardLoad"}},{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":"$__all","name":"env","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"env","matchers":["aws_ec2_CPUUtilization_count{}"]}},"refresh":"DashboardLoad"}},{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":"$__all","name":"aws_region","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"cloud_region","matchers":["aws_ec2_CPUUtilization_count{env=~\"$env\"}"]}},"refresh":"DashboardLoad"}},{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":"$__all","name":"aws_account","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"cloud_account_id","matchers":["aws_ec2_CPUUtilization_count{env=~\"$env\"}"]}},"refresh":"DashboardLoad"}},{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".+","default_value":"$__all","display":{"name":"Instance"},"name":"aws_instance_id","plugin":{"kind":"PrometheusPromQLVariable","spec":{"expr":"{__name__=~\"aws_ec2.*\", env=~\"$env\"}","label_name":"dimension_InstanceId"}},"refresh":"DashboardLoad"}},{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".+","default_value":"$__all","display":{"name":"Auto Scaling Group"},"name":"aws_autoscaling_group","plugin":{"kind":"PrometheusPromQLVariable","spec":{"expr":"{__name__=~\"aws_ec2.*\", env=~\"$env\"}","label_name":"dimension_AutoScalingGroupName"}},"refresh":"DashboardLoad"}}],"events":[]},"spec_version":"1"}'
