api_version: v1/config
kind: Dashboard
spec:
  slug: rabbitmq-overview
  name: RabbitMQ Overview
  collection_slug: rabbitmq-collection
  dashboard_json: '{"kind":"Dashboard","spec":{"events":[],"panels":{"connectionsChannelsAndConsumers-5":{"kind":"Panel","spec":{"display":{"name":"Connections,
    channels and consumers"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"Table","position":"Right","values":["Max","Last"]},"tooltip":{"mode":"nearby"},"visual":{"area_opacity":0.05},"y_axis":{"min":0,"unit":{"abbreviate":true,"decimal_places":0,"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(rabbitmq_connections)","series_name":{"name_pattern":"connections","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(rabbitmq_channels)","series_name":{"name_pattern":"channels","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(rabbitmq_queue_consumers)","series_name":{"name_pattern":"consumers","type":"Labels"}}}}}]}},"diskFree-17":{"kind":"Panel","spec":{"display":{"name":"Disk
    free"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"Table","position":"Right","values":["Last"]},"tooltip":{"mode":"nearby"},"visual":{"area_opacity":0.05},"y_axis":{"max":100,"unit":{"abbreviate":true,"decimal_places":0,"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"min(rabbitmq_node_disk_free{node=~\"$node\"})
    by (node)","series_name":{"name_pattern":"{{node}}:free","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"min(rabbitmq_node_disk_free_limit{node=~\"$node\"})
    by (node)","series_name":{"name_pattern":"{{node}}:limit","type":"Labels"}}}}}]}},"diskLimitAlarm-21":{"kind":"Panel","spec":{"display":{"name":"Disk
    limit Alarm"},"plugin":{"kind":"StatChart","spec":{"calculation":"Mean","thresholds":{"steps":[{"value":1},{"value":1}]},"unit":{"abbreviate":false,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(rabbitmq_node_disk_free_alarm{node=~\"$node\"})"}}}}]}},"memoryLimitAlarm-22":{"kind":"Panel","spec":{"display":{"description":"","name":"Memory
    limit Alarm"},"plugin":{"kind":"StatChart","spec":{"calculation":"Mean","thresholds":{"steps":[{"value":1},{"value":1}]},"unit":{"abbreviate":false,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(rabbitmq_node_mem_alarm{node=~\"$node\"})"}}}}]}},"memoryUsage-9":{"kind":"Panel","spec":{"display":{"description":"","name":"Memory
    usage"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"Table","position":"Right","values":["Last"]},"thresholds":{"mode":"Absolute","steps":[{"color":"#EA4747","value":80}]},"tooltip":{"mode":"nearby"},"visual":{"area_opacity":0.05},"y_axis":{"max":100,"unit":{"abbreviate":true,"decimal_places":0,"kind":"Percent"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(rabbitmq_node_mem_used{node=~\"$node\"})
    by (node) / sum(rabbitmq_node_mem_limit{node=~\"$node\"}) by (node) *100","series_name":{"name_pattern":"{{node}}","type":"Labels"}}}}}]}},"messagesPerQueue-2":{"kind":"Panel","spec":{"display":{"name":"Messages
    per Queue"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"Table","position":"Right","values":["Last"]},"tooltip":{"mode":"nearby"},"visual":{"area_opacity":0.05},"y_axis":{"min":0,"unit":{"abbreviate":true,"decimal_places":0,"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"rabbitmq_queue_messages","series_name":{"name_pattern":"{{queue}}","type":"Labels"}}}}}]}},"messagesStatus-8":{"kind":"Panel","spec":{"display":{"name":"Messages
    status"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"Table","position":"Right","values":["Last"]},"tooltip":{"mode":"nearby"},"visual":{"area_opacity":0.05},"y_axis":{"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"max(rabbitmq_queue_messages_ready)
    by (queue)","series_name":{"name_pattern":"{{queue}}:ready","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"max(rabbitmq_queue_messages_published_total)
    by (queue)","series_name":{"name_pattern":"{{queue}}:published","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"max(rabbitmq_queue_messages_delivered_total)
    by (queue)","series_name":{"name_pattern":"{{queue}}:delivered","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (queue)(rabbitmq_queue_messages_unacknowledged)","series_name":{"name_pattern":"{{queue}}:unack","type":"Labels"}}}}}]}},"node-14":{"kind":"Panel","spec":{"display":{"name":"$node"},"plugin":{"kind":"StatChart","spec":{"calculation":"Mean","thresholds":{"steps":[{"value":0.1},{"value":0.9}]},"unit":{"abbreviate":false,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"min(rabbitmq_running{node=~\"$node\"})","series_name":{"name_pattern":"nodes","type":"Labels"}}}}}]}},"nodesUp-12":{"kind":"Panel","spec":{"display":{"name":"Nodes
    Up"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"Table","position":"Right","values":["Last"]},"thresholds":{"mode":"Absolute","steps":[{"color":"#EA4747","value":1}]},"tooltip":{"mode":"nearby"},"visual":{"area_opacity":0.05},"y_axis":{"unit":{"abbreviate":true,"decimal_places":0,"kind":"PercentDecimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"rabbitmq_running","series_name":{"name_pattern":"{{node}}","type":"Labels"}}}}}]}}},"layouts":[{"kind":"Grid","spec":{"items":[{"x":12,"y":0,"width":12,"height":3,"content":{"$ref":"#/spec/panels/memoryLimitAlarm-22"}},{"x":0,"y":0,"width":12,"height":3,"content":{"$ref":"#/spec/panels/diskLimitAlarm-21"}},{"x":12,"y":3,"width":12,"height":4,"content":{"$ref":"#/spec/panels/nodesUp-12"}},{"x":0,"y":3,"width":12,"height":4,"content":{"$ref":"#/spec/panels/connectionsChannelsAndConsumers-5"}},{"x":12,"y":7,"width":12,"height":5,"content":{"$ref":"#/spec/panels/messagesStatus-8"}},{"x":0,"y":7,"width":12,"height":5,"content":{"$ref":"#/spec/panels/messagesPerQueue-2"}},{"x":12,"y":12,"width":12,"height":6,"content":{"$ref":"#/spec/panels/memoryUsage-9"}},{"x":0,"y":12,"width":12,"height":6,"content":{"$ref":"#/spec/panels/diskFree-17"}}]}},{"kind":"SplitPanel","spec":{"display":{"title":"[Converted
    Repeat Panel]  > $node","collapse":{"open":false}},"content":{"$ref":"#/spec/panels/node-14"},"split_by":{"variable":"node"}}}],"variables":[{"kind":"TextVariable","spec":{"name":"datasource","value":"Chronosphere
    Prometheus"}},{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"default_value":"$__all","name":"node","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"node","matchers":["rabbitmq_running"]}}}}],"duration":"3h"},"spec_version":"1"}'
