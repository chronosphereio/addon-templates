api_version: v1/config
kind: Dashboard
spec:
  slug: k8s-deployments-overview
  name: K8s Deployments Overview
  collection_slug: kubernetes-collection
  dashboard_json: '{"kind":"Dashboard","spec":{"events":[],"panels":{"available-0":{"kind":"Panel","spec":{"display":{"description":"","name":"Available"},"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","show_series_name":"Always","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_deployment_status_replicas_available{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","queryType":"Range","reducer":"LastNumber","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"cpuRequestsLimitsAndUsage-26":{"kind":"Panel","spec":{"display":{"description":"","name":"CPU
    Resources (requests, limits and usage)"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_pod_container_resource_requests{resource=\"cpu\",cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(container_cpu_usage_seconds_total{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_pod_container_resource_limits{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"cpuUsageByDeployment-22":{"kind":"Panel","spec":{"display":{"description":"","name":"CPU
    Usage by Deployment"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (cluster_name, namespace, deployment) (container_cpu_usage_seconds_total{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"deployments-16":{"kind":"Panel","spec":{"display":{"description":"","name":"Total
    Deployments"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"avg
    by (cluster_name, namespace, deployment) (kube_deployment_status_replicas{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"deployments-38":{"kind":"Panel","spec":{"display":{"description":"","name":"Deployments"},"formulas":[],"links":[],"plugin":{"kind":"BarChart","spec":{"calculation":"LastNumber","limit":25,"mode":"value","sort":"desc","unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (deployment) (kube_deployment_status_replicas{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{deployment}}","type":"Labels"}}}}}]}},"Requested-6":{"kind":"Panel","spec":{"display":{"description":"","name":"Requested"},"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","show_series_name":"Always","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_deployment_spec_replicas{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","queryType":"Range","reducer":"LastNumber","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"RequestedNotAvailable-14":{"kind":"Panel","spec":{"display":{"description":"","name":"Requested
    And Unavailable"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","show_series_name":"Always","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_deployment_spec_replicas{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})
    - sum(kube_deployment_status_replicas_available{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","queryType":"Range","reducer":"LastNumber","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"diskUsage-34":{"kind":"Panel","spec":{"display":{"description":"","name":"Disk
    Usage"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (deployment, namespace, cluster_name) (container_fs_usage_bytes{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"diskUsage-35":{"kind":"Panel","spec":{"display":{"description":"","name":"Disk
    Usage %"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"thresholds":{"mode":"Absolute","steps":[{"color":"#EA4747","value":100}]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"kind":"Percent"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by(deployment, namespace, cluster_name)(container_fs_usage_bytes{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"}/container_fs_limit_bytes{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})"}}}}]}},"memoryRequestsLimitsAndUsage-27":{"kind":"Panel","spec":{"display":{"description":"","name":"Memory
    Resources (requests, limits and usage)"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_pod_container_resource_requests{resource=\"memory\",cluster_name=~\"$kube_cluster_name\",k8s_deployment_name=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_pod_container_resource_limits{cluster_name=~\"$kube_cluster_name\",k8s_deployment_name=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"memoryUsageByDeployment-23":{"kind":"Panel","spec":{"display":{"description":"","name":"Memory
    Usage by Deployment"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"avg
    by (deployment, namespace, cluster_name) (container_memory_usage_bytes{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"mostCpuIntensiveDeployments-25":{"kind":"Panel","spec":{"display":{"description":"","name":"Most
    CPU-intensive Deployments"},"plugin":{"kind":"Table","spec":{"sort":[{"sortBy":"Mean","sortOrder":"desc"}],"transform":{"kind":"Aggregation","stats":["Mean"]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (deployment, namespace, cluster_name) (container_cpu_usage_seconds_total{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\",pod!=\"no_pod\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"mostDiskIntensiveDeployments-36":{"kind":"Panel","spec":{"display":{"description":"","name":"Most
    CPU Resource Intensive Deployments"},"formulas":[],"links":[],"plugin":{"kind":"Table","spec":{"sort":[{"sortBy":"Mean","sortOrder":"desc"}],"transform":{"kind":"Aggregation","stats":["Mean"]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (deployment, namespace, cluster_name) (container_fs_usage_bytes{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\",pod!=\"no_pod\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"mostMemoryIntensiveDeployments-24":{"kind":"Panel","spec":{"display":{"description":"","name":"Most
    memory-intensive Deployments"},"plugin":{"kind":"Table","spec":{"sort":[{"sortBy":"Mean","sortOrder":"desc"}],"transform":{"kind":"Aggregation","stats":["Mean"]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (deployment, namespace, cluster_name) (container_memory_usage_bytes{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\",pod!=\"no_pod\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"mostNetworkIntensiveDeployments-37":{"kind":"Panel","spec":{"display":{"description":"","name":"Most
    Network Resource Intensive Deployments"},"formulas":[],"links":[],"plugin":{"kind":"Table","spec":{"sort":[{"sortBy":"Mean","sortOrder":"desc"}],"transform":{"kind":"Aggregation","stats":["Mean"]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (deployment, namespace, cluster_name) (container_network_transmit_bytes_total{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\",pod!=\"no_pod\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"networkErrors-33":{"kind":"Panel","spec":{"display":{"description":"","name":"Network
    Errors"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"thresholds":{"mode":"Absolute","steps":[{"color":"#2CB46B","value":0}]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (deployment, namespace, cluster_name) (container_network_receive_errors_total{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (deployment, namespace, cluster_name) (container_network_transmit_errors_total{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"networkUsageRxTxRate-32":{"kind":"Panel","spec":{"display":{"description":"","name":"Network
    Usage (Rx / Tx rate)"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (deployment, namespace, cluster_name) (container_network_receive_bytes_total{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (deployment, namespace, cluster_name) (container_network_transmit_bytes_total{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"outdated-13":{"kind":"Panel","spec":{"display":{"description":"","name":"Outdated"},"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","show_series_name":"Always","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_deployment_status_replicas{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})
    - sum(kube_deployment_status_replicas_updated{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","queryType":"Range","reducer":"LastNumber","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"replicas-2":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas"},"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","show_series_name":"Always","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_deployment_status_replicas{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","queryType":"Range","reducer":"LastNumber","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"replicas-3":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (deployment) (kube_deployment_status_replicas{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{deployment}}","type":"Labels"}}}}}]}},"replicasAvailable-1":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Available"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (deployment) (kube_deployment_status_replicas_available{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{deployment}}","type":"Labels"}}}}}]}},"replicasRequested-7":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Requested"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (deployment) (kube_deployment_spec_replicas{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{deployment}}","type":"Labels"}}}}}]}},"replicasRequestedButNotAvailable-11":{"kind":"Panel","spec":{"display":{"description":"","name":"Unavailable
    Requested Replicas"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (deployment, cluster_name, namespace) (kube_deployment_spec_replicas{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})
    - sum by (deployment, cluster_name, namespace) (kube_deployment_status_replicas_available{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"replicasRequestedButNotAvailable-19":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Requested but Not Available"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (deployment) (kube_deployment_spec_replicas{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})
    - sum by (deployment) (kube_deployment_status_replicas_available{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{deployment}}","type":"Labels"}}}}}]}},"replicasOutdated-12":{"kind":"Panel","spec":{"display":{"description":"","name":"Outdated
    Replicas"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"thresholds":{"mode":"Absolute","steps":[{"color":"#2CB46B","value":0}]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (deployment) (kube_deployment_status_replicas{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})
    - sum by (deployment) (kube_deployment_status_replicas_updated{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{deployment}}","type":"Labels"}}}}}]}},"replicasPerDeployments-17":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    by Deployment"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (cluster_name, namespace, deployment) (kube_deployment_status_replicas{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"replicasPerDeploymentsChange-18":{"kind":"Panel","spec":{"display":{"description":"","name":"Difference
    Over Time Replicas per Deployments"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (cluster_name, namespace, deployment) (kube_deployment_status_replicas{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"}
    offset 1w)","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (cluster_name, namespace, deployment) (kube_deployment_status_replicas{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"replicasUnavailable-5":{"kind":"Panel","spec":{"display":{"description":"","name":"Unavailable
    Replicas"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (cluster_name, namespace, deployment) (kube_deployment_status_replicas_unavailable{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"replicasUpdated-9":{"kind":"Panel","spec":{"display":{"description":"","name":"Updated
    Replicas"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (deployment) (kube_deployment_status_replicas_updated{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","series_name":{"name_pattern":"{{deployment}}","type":"Labels"}}}}}]}},"unavailable-4":{"kind":"Panel","spec":{"display":{"description":"","name":"Unavailable"},"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","show_series_name":"Always","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_deployment_status_replicas_unavailable{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","queryType":"Range","reducer":"LastNumber","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}},"updated-8":{"kind":"Panel","spec":{"display":{"description":"","name":"Updated"},"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","show_series_name":"Always","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_deployment_status_replicas_updated{cluster_name=~\"$kube_cluster_name\",deployment=~\"$kube_deployment\",namespace=~\"$kube_namespace\"})","queryType":"Range","reducer":"LastNumber","series_name":{"name_pattern":"{{cluster_name}}-{{deployment}}-{{namespace}}","type":"Labels"}}}}}]}}},"layouts":[{"kind":"Grid","spec":{"display":{"title":"Overview","collapse":{"open":true}},"items":[{"x":0,"y":0,"width":24,"height":10,"content":{"$ref":"#/spec/panels/deployments-38"}},{"x":0,"y":10,"width":6,"height":8,"content":{"$ref":"#/spec/panels/replicas-2"}},{"x":12,"y":10,"width":6,"height":8,"content":{"$ref":"#/spec/panels/Requested-6"}},{"x":6,"y":10,"width":6,"height":8,"content":{"$ref":"#/spec/panels/available-0"}},{"x":16,"y":18,"width":8,"height":8,"content":{"$ref":"#/spec/panels/updated-8"}},{"x":8,"y":18,"width":8,"height":8,"content":{"$ref":"#/spec/panels/unavailable-4"}},{"x":18,"y":10,"width":6,"height":8,"content":{"$ref":"#/spec/panels/RequestedNotAvailable-14"}},{"x":0,"y":18,"width":8,"height":8,"content":{"$ref":"#/spec/panels/outdated-13"}},{"x":12,"y":26,"width":12,"height":8,"content":{"$ref":"#/spec/panels/deployments-16"}},{"x":0,"y":26,"width":12,"height":8,"content":{"$ref":"#/spec/panels/replicasPerDeployments-17"}},{"x":0,"y":34,"width":12,"height":8,"content":{"$ref":"#/spec/panels/replicasPerDeploymentsChange-18"}},{"x":12,"y":34,"width":12,"height":8,"content":{"$ref":"#/spec/panels/replicasRequestedButNotAvailable-19"}}]}},{"kind":"Grid","spec":{"display":{"title":"Replicas
    by Deployment","collapse":{"open":false}},"items":[{"x":18,"y":0,"width":6,"height":8,"content":{"$ref":"#/spec/panels/replicas-3"}},{"x":12,"y":0,"width":6,"height":8,"content":{"$ref":"#/spec/panels/replicasRequested-7"}},{"x":6,"y":0,"width":6,"height":8,"content":{"$ref":"#/spec/panels/replicasAvailable-1"}},{"x":0,"y":0,"width":6,"height":8,"content":{"$ref":"#/spec/panels/replicasUpdated-9"}},{"x":0,"y":8,"width":8,"height":8,"content":{"$ref":"#/spec/panels/replicasUnavailable-5"}},{"x":8,"y":8,"width":8,"height":8,"content":{"$ref":"#/spec/panels/replicasOutdated-12"}},{"x":16,"y":8,"width":8,"height":8,"content":{"$ref":"#/spec/panels/replicasRequestedButNotAvailable-11"}}]}},{"kind":"Grid","spec":{"display":{"title":"CPU
    Resources","collapse":{"open":false}},"items":[{"x":0,"y":0,"width":16,"height":8,"content":{"$ref":"#/spec/panels/cpuUsageByDeployment-22"}},{"x":16,"y":0,"width":8,"height":16,"content":{"$ref":"#/spec/panels/mostCpuIntensiveDeployments-25"}},{"x":0,"y":8,"width":16,"height":8,"content":{"$ref":"#/spec/panels/cpuRequestsLimitsAndUsage-26"}}]}},{"kind":"Grid","spec":{"display":{"title":"Memory
    Resources","collapse":{"open":false}},"items":[{"x":0,"y":0,"width":16,"height":8,"content":{"$ref":"#/spec/panels/memoryUsageByDeployment-23"}},{"x":16,"y":0,"width":8,"height":16,"content":{"$ref":"#/spec/panels/mostMemoryIntensiveDeployments-24"}},{"x":0,"y":8,"width":16,"height":8,"content":{"$ref":"#/spec/panels/memoryRequestsLimitsAndUsage-27"}}]}},{"kind":"Grid","spec":{"display":{"title":"Disk
    Resources","collapse":{"open":false}},"items":[{"x":0,"y":0,"width":16,"height":8,"content":{"$ref":"#/spec/panels/diskUsage-34"}},{"x":0,"y":8,"width":16,"height":8,"content":{"$ref":"#/spec/panels/diskUsage-35"}},{"x":16,"y":0,"width":8,"height":16,"content":{"$ref":"#/spec/panels/mostDiskIntensiveDeployments-36"}}]}},{"kind":"Grid","spec":{"display":{"title":"Network
    Resources","collapse":{"open":false}},"items":[{"x":0,"y":0,"width":12,"height":8,"content":{"$ref":"#/spec/panels/networkUsageRxTxRate-32"}},{"x":0,"y":8,"width":12,"height":8,"content":{"$ref":"#/spec/panels/networkErrors-33"}},{"x":12,"y":0,"width":12,"height":16,"content":{"$ref":"#/spec/panels/mostNetworkIntensiveDeployments-37"}}]}}],"variables":[{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":"$__all","display":{"name":"kube_cluster_name"},"name":"kube_cluster_name","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"cluster_name","matchers":[]}}}},{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":"$__all","display":{"name":"kube_deployment"},"name":"kube_deployment","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"deployment","matchers":[]}}}},{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":"$__all","display":{"name":"kube_namespace"},"name":"kube_namespace","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"namespace","matchers":[]}}}},{"kind":"IntervalVariable","spec":{"auto":true,"auto_min_interval":"2m","default_value":"__auto","display":{"name":"interval"},"name":"interval","options":["2m","5m","10m","20m","30m","1h","2h","4h","12h"]}}],"duration":"2d"},"spec_version":"1"}'