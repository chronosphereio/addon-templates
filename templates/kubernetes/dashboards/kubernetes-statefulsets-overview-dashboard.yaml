api_version: v1/config
kind: Dashboard
spec:
  slug: kubernetes-statefulsets-overview
  name: Kubernetes StatefulSets Overview
  collection_slug: kubernetes-collection
  dashboard_json: '{"kind":"Dashboard","spec":{"events":[],"panels":{"CPUUsage":{"kind":"Panel","spec":{"display":{"description":"","name":"CPU
    Usage "},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(rate(container_cpu_usage_seconds_total{container!=\"\",
    k8s_cluster_name=~\"$kube_cluster_name\", k8s_namespace_name=~\"$kube_namespace\"}[$__rate_interval]))"}}}}]}},"cpuRequestsLimitsAndUsageNoTargets-15":{"kind":"Panel","spec":{"display":{"description":"","name":"CPU
    requests and limits"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05},"y_axis":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(kube_pod_container_resource_limits{resource=\"cpu\",
    unit=\"core\", k8s_cluster_name=~\"$kube_cluster_name\", k8s_namespace_name=~\"$kube_namespace\"})","series_name":{"name_pattern":"Limits","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(kube_pod_container_resource_requests{resource=\"cpu\",unit=\"core\",
    k8s_cluster_name=~\"$kube_cluster_name\", k8s_namespace_name=~\"$kube_namespace\"})","series_name":{"name_pattern":"Requests","type":"Labels"}}}}}]}},"cpuUsageByKubeStatefulSet-11":{"kind":"Panel","spec":{"display":{"description":"","name":"CPU
    Usage by kube_stateful_set"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05},"y_axis":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (k8s_cluster_name, k8s_namespace_name, k8s_statefulset_name)(rate(container_cpu_usage_seconds_total{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\",container!=\"\"}[$__rate_interval]))","series_name":{"name_pattern":"{{k8s_cluster_name}}-{{k8s_namespace_name}}-{{k8s_statefulset_name}}","type":"Labels"}}}}}]}},"current-29":{"kind":"Panel","spec":{"display":{"description":"","name":"Current"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","show_series_name":"Always","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_k8s_statefulset_name_status_replicas_current{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"})","queryType":"Range","reducer":"LastNumber","series_name":{"name_pattern":"{{k8s_cluster_name}}-{{k8s_namespace_name}}-{{k8s_statefulset_name}}","type":"Labels"}}}}}]}},"desired-2":{"kind":"Panel","spec":{"display":{"description":"","name":"Desired"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","show_series_name":"Always","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_k8s_statefulset_name_replicas_desired{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"})","queryType":"Range","reducer":"LastNumber","series_name":{"name_pattern":"{{k8s_cluster_name}}-{{k8s_namespace_name}}-{{k8s_statefulset_name}}","type":"Labels"}}}}}]}},"diskUsage-23":{"kind":"Panel","spec":{"display":{"description":"","name":"Disk
    Usage"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05},"y_axis":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (k8s_namespace_name, k8s_cluster_name, k8s_statefulset_name) (container_fs_usage_bytes{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"{{k8s_cluster_name}}-{{k8s_namespace_name}}-{{k8s_statefulset_name}}","type":"Labels"}}}}}]}},"diskUsage-24":{"kind":"Panel","spec":{"display":{"description":"","name":"Disk
    Usage %"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"thresholds":{"mode":"Absolute","steps":[{"color":"#EA4747","value":100}]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05},"y_axis":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (k8s_namespace_name, k8s_cluster_name, k8s_statefulset_name) (container_fs_usage_bytes{k8s_cluster_name
    !=\"\",k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"}
    / container_fs_limit_bytes{k8s_cluster_name !=\"\",k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"})
    * 100","series_name":{"name_pattern":"{{k8s_cluster_name}}-{{k8s_namespace_name}}-{{k8s_statefulset_name}}","type":"Labels"}}}}}]}},"kubeStatefulSetReplicasSizeByCluster-28":{"kind":"Panel","spec":{"display":{"description":"","name":"kube_stateful_set
    Replicas Size By Cluster"},"formulas":[],"links":[],"plugin":{"kind":"Table","spec":{"sort":[{"sortBy":"Mean","sortOrder":"desc"}],"transform":{"kind":"Aggregation","stats":["Mean"]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"max
    by (cluster_name) (kube_k8s_statefulset_name_status_replicas{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"{{cluster_name}}","type":"Labels"}}}}}]}},"memoryRequestsLimitsAndUsageNoTargets-16":{"kind":"Panel","spec":{"display":{"description":"","name":"Memory
    requests and limits"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"thresholds":{},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05},"y_axis":{"min":null,"unit":{"kind":"BinaryBytes"}},"y_axis_right":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(kube_pod_container_resource_limits{k8s_cluster_name=~\"$kube_cluster_name\",
    k8s_namespace_name=~\"$kube_namespace\", resource=\"memory\"})","series_name":{"name_pattern":"Limits","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(kube_pod_container_resource_requests{k8s_cluster_name=~\"$kube_cluster_name\",
    k8s_namespace_name=~\"$kube_namespace\", resource=\"memory\"})","series_name":{"name_pattern":"Requests","type":"Labels"}}}}}]}},"memoryUsageByKubeStatefulSet-12":{"kind":"Panel","spec":{"display":{"description":"","name":"Memory
    Usage by kube_stateful_set"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05},"y_axis":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (namespace, k8s_statefulset_name) (rate(container_memory_usage_bytes{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\",
    container!=\"\"}[$__rate_interval]))","series_name":{"name_pattern":"{{namespace}}-{{k8s_statefulset_name}}","type":"Labels"}}}}}]}},"mostCpuIntensiveKubeStatefulSet-14":{"kind":"Panel","spec":{"display":{"description":"","name":"Most
    CPU-intensive kube_stateful_set"},"formulas":[],"links":[],"plugin":{"kind":"Table","spec":{"sort":[{"sortBy":"Mean","sortOrder":"desc"}],"transform":{"kind":"Aggregation","stats":["Mean"]},"unit":{"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (k8s_namespace_name, k8s_cluster_name, k8s_statefulset_name) (container_cpu_usage_seconds_total{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"{{k8s_cluster_name}}-{{k8s_namespace_name}}-{{k8s_statefulset_name}}","type":"Labels"}}}}}]}},"mostDiskIntensiveStatefulSets-25":{"kind":"Panel","spec":{"display":{"description":"","name":"Most
    Disk-intensive StatefulSets"},"formulas":[],"links":[],"plugin":{"kind":"Table","spec":{"sort":[{"sortBy":"Max","sortOrder":"desc"}],"transform":{"kind":"Aggregation","labelsToColumns":true,"stats":["Min","Max","First","Last","Mean","Sum"]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"tail_avg(sum
    by (k8s_namespace_name, k8s_cluster_name, k8s_statefulset_name) (container_fs_usage_bytes{cluster_name!=\"\",
    k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"}),
    10)","series_name":{"name_pattern":"{{k8s_cluster_name}}-{{k8s_namespace_name}}-{{k8s_statefulset_name}}","type":"Labels"}}}}}]}},"mostMemoryIntensiveKubeStatefulSet-13":{"kind":"Panel","spec":{"display":{"description":"","name":"Most
    memory-intensive kube_stateful_set"},"formulas":[],"links":[],"plugin":{"kind":"Table","spec":{"sort":[{"sortBy":"Mean","sortOrder":"desc"}],"transform":{"kind":"Aggregation","stats":["Mean"]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (k8s_namespace_name, k8s_cluster_name, k8s_statefulset_name) (container_memory_usage_bytes{cluster_name!=\"\",k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"{{k8s_cluster_name}}-{{k8s_namespace_name}}-{{k8s_statefulset_name}}","type":"Labels"}}}}}]}},"mostNetworkIntensiveStatefulSets-26":{"kind":"Panel","spec":{"display":{"name":"Most
    Network-intensive StatefulSets","description":""},"plugin":{"kind":"Table","spec":{"transform":{"kind":"Aggregation","labelsToColumns":true,"stats":["Min","Max","First","Last","Mean","Sum"]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"tail_avg(sum
    by (k8s_namespace_name, k8s_cluster_name, k8s_statefulset_name) (container_network_transmit_bytes_total{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"}),
    10)","series_name":{"name_pattern":"{{k8s_cluster_name}}-{{k8s_namespace_name}}-{{k8s_statefulset_name}}","type":"Labels"}}},"disabled":false}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"container_network_transmit_bytes_total{k8s_cluster_name=~\"$kube_cluster_name\",
    k8s_statefulset_name=~\"$kube_stateful_set\"}"}},"disabled":true}}],"formulas":[],"links":[]}},"networkErrorsNoTargets-22":{"kind":"Panel","spec":{"display":{"description":"","name":"Network
    Errors"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"thresholds":{"mode":"Absolute","steps":[{"color":"#2CB46B","value":0}]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05},"y_axis":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (k8s_deployment_name, k8s_namespace_name, k8s_cluster_name)(container_network_receive_errors_total{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\"})"}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (k8s_deployment_name, k8s_namespace_name, k8s_cluster_name)(container_network_transmit_errors_total{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\"})"}}}}]}},"networkUsageRxTxRateNoTargets-21":{"kind":"Panel","spec":{"display":{"description":"","name":"Network
    Usage (Rx / Tx rate)"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by(k8s_deployment_name, k8s_namespace_name, k8s_cluster_name) (increase(container_network_receive_bytes_total{k8s_cluster_name=~\"$kube_cluster_name\",
    k8s_namespace_name=~\"$kube_namespace\"}[$_rate__interval]))"}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by(k8s_deployment_name, k8s_namespace_name, k8s_cluster_name) (increase(container_network_transmit_bytes_total{k8s_cluster_name=~\"$kube_cluster_name\",
    k8s_namespace_name=~\"$kube_namespace\"}[$_rate__interval]))"}}}}]}},"ready-0":{"kind":"Panel","spec":{"display":{"description":"","name":"Ready"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","show_series_name":"Always","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_k8s_statefulset_name_status_replicas_ready{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"})","queryType":"Range","reducer":"LastNumber","series_name":{"name_pattern":"{{k8s_cluster_name}}-{{k8s_namespace_name}}-{{k8s_statefulset_name}}","type":"Labels"}}}}}]}},"replicas-4270319062329448":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","show_series_name":"Always","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_k8s_statefulset_name_status_replicas{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"})","queryType":"Range","reducer":"LastNumber","series_name":{"name_pattern":"{{k8s_cluster_name}}-{{k8s_namespace_name}}-{{k8s_statefulset_name}}","type":"Labels"}}}}}]}},"replicasChangesChange-7330649744289022":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Changes (change)"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05},"y_axis":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"tail_avg(avg
    by (k8s_cluster_name, k8s_namespace_name, k8s_replicaset_name) (kube_statefulset_status_replicas_ready{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"}),
    10)","series_name":{"name_pattern":"{{k8s_cluster_name}}-{{k8s_namespace_name}}-{{k8s_replicaset_name}}","type":"Labels"}}}}}]}},"replicasDesired-3":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Desired"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05},"y_axis":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (k8s_statefulset_name) (kube_k8s_statefulset_name_replicas{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"{{k8s_statefulset_name}}","type":"Labels"}}}}}]}},"replicasDesiredButNotReady-970014367137824":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Desired but Not Ready"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05},"y_axis":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (k8s_cluster_name, k8s_namespace_name, k8s_statefulset_name) (kube_k8s_statefulset_name_replicas{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"})
    - sum by (k8s_cluster_name, k8s_namespace_name, k8s_statefulset_name) (kube_k8s_statefulset_name_status_replicas_ready{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"{{k8s_cluster_name}}-{{k8s_namespace_name}}-{{k8s_statefulset_name}}","type":"Labels"}}}}}]}},"replicasNotReady-8":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Not Ready"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05},"y_axis":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_k8s_statefulset_name_replicas{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"})
    - sum(kube_k8s_statefulset_name_status_replicas_ready{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"{{k8s_cluster_name}}-{{k8s_namespace_name}}-{{k8s_statefulset_name}}","type":"Labels"}}}}}]}},"replicasReady-1":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Ready"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05},"y_axis":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (k8s_statefulset_name) (kube_k8s_statefulset_name_status_replicas_ready{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"{{k8s_statefulset_name}}","type":"Labels"}}}}}]}},"replicasReady-6":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Ready"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05},"y_axis":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":null,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (k8s_cluster_name, k8s_namespace_name, k8s_statefulset_name) (kube_k8s_statefulset_name_status_replicas_ready{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"{{k8s_cluster_name}}-{{k8s_namespace_name}}-{{k8s_statefulset_name}}","type":"Labels"}}}}}]}},"updated-5652092250575542":{"kind":"Panel","spec":{"display":{"description":"","name":"Updated"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","show_series_name":"Always","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_k8s_statefulset_name_status_replicas_updated{k8s_cluster_name=~\"$kube_cluster_name\",k8s_namespace_name=~\"$kube_namespace\",k8s_statefulset_name=~\"$kube_stateful_set\"})","queryType":"Range","reducer":"LastNumber","series_name":{"name_pattern":"{{k8s_cluster_name}}-{{k8s_namespace_name}}-{{k8s_statefulset_name}}","type":"Labels"}}}}}]}}},"layouts":[{"kind":"Grid","spec":{"display":{"title":"Overview","collapse":{"open":false}},"items":[{"x":10,"y":0,"width":5,"height":5,"content":{"$ref":"#/spec/panels/ready-0"}},{"x":5,"y":0,"width":5,"height":5,"content":{"$ref":"#/spec/panels/desired-2"}},{"x":0,"y":0,"width":5,"height":5,"content":{"$ref":"#/spec/panels/updated-5652092250575542"}},{"x":15,"y":0,"width":5,"height":5,"content":{"$ref":"#/spec/panels/replicas-4270319062329448"}},{"x":20,"y":0,"width":4,"height":5,"content":{"$ref":"#/spec/panels/current-29"}}]}},{"kind":"Grid","spec":{"display":{"title":"Replicas
    by Statefulsets","collapse":{"open":false}},"items":[{"x":0,"y":0,"width":12,"height":8,"content":{"$ref":"#/spec/panels/replicasDesired-3"}},{"x":12,"y":0,"width":12,"height":8,"content":{"$ref":"#/spec/panels/replicasReady-1"}},{"x":0,"y":8,"width":12,"height":8,"content":{"$ref":"#/spec/panels/replicasReady-6"}},{"x":0,"y":16,"width":12,"height":8,"content":{"$ref":"#/spec/panels/replicasNotReady-8"}},{"x":12,"y":8,"width":12,"height":8,"content":{"$ref":"#/spec/panels/replicasDesiredButNotReady-970014367137824"}},{"x":12,"y":16,"width":12,"height":16,"content":{"$ref":"#/spec/panels/kubeStatefulSetReplicasSizeByCluster-28"}},{"x":0,"y":24,"width":12,"height":8,"content":{"$ref":"#/spec/panels/replicasChangesChange-7330649744289022"}}]}},{"kind":"Grid","spec":{"display":{"title":"CPU
    Resources","collapse":{"open":true}},"items":[{"x":0,"y":15,"width":16,"height":9,"content":{"$ref":"#/spec/panels/cpuUsageByKubeStatefulSet-11"}},{"x":16,"y":0,"width":8,"height":24,"content":{"$ref":"#/spec/panels/mostCpuIntensiveKubeStatefulSet-14"}},{"x":0,"y":0,"width":16,"height":8,"content":{"$ref":"#/spec/panels/cpuRequestsLimitsAndUsageNoTargets-15"}},{"x":0,"y":8,"width":16,"height":7,"content":{"$ref":"#/spec/panels/CPUUsage"}}]}},{"kind":"Grid","spec":{"display":{"title":"Memory
    Resources","collapse":{"open":true}},"items":[{"x":0,"y":8,"width":16,"height":8,"content":{"$ref":"#/spec/panels/memoryUsageByKubeStatefulSet-12"}},{"x":16,"y":0,"width":8,"height":16,"content":{"$ref":"#/spec/panels/mostMemoryIntensiveKubeStatefulSet-13"}},{"x":0,"y":0,"width":16,"height":8,"content":{"$ref":"#/spec/panels/memoryRequestsLimitsAndUsageNoTargets-16"}}]}},{"kind":"Grid","spec":{"display":{"title":"Network
    Resources","collapse":{"open":true}},"items":[{"x":12,"y":0,"width":12,"height":8,"content":{"$ref":"#/spec/panels/networkUsageRxTxRateNoTargets-21"}},{"x":0,"y":0,"width":12,"height":16,"content":{"$ref":"#/spec/panels/mostNetworkIntensiveStatefulSets-26"}},{"x":12,"y":8,"width":12,"height":8,"content":{"$ref":"#/spec/panels/networkErrorsNoTargets-22"}}]}},{"kind":"Grid","spec":{"display":{"title":"Disk
    Resources","collapse":{"open":true}},"items":[{"x":0,"y":0,"width":15,"height":8,"content":{"$ref":"#/spec/panels/diskUsage-23"}},{"x":0,"y":8,"width":15,"height":8,"content":{"$ref":"#/spec/panels/diskUsage-24"}},{"x":15,"y":0,"width":9,"height":16,"content":{"$ref":"#/spec/panels/mostDiskIntensiveStatefulSets-25"}}]}}],"variables":[{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":"$__all","display":{"name":"kube_cluster_name"},"name":"kube_cluster_name","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"k8s_cluster_name","matchers":[]}},"refresh":"DashboardLoad"}},{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":["123security","recipe-rules-db","reciperules"],"display":{"name":"kube_namespace"},"name":"kube_namespace","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"namespace","matchers":[]}}}},{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":"$__all","display":{"name":"kube_stateful_set"},"name":"kube_stateful_set","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"k8s_statefulset_name","matchers":[]}}}},{"kind":"IntervalVariable","spec":{"auto":true,"auto_min_interval":"2m","default_value":"__auto","display":{"name":"interval"},"name":"interval","options":["2m","5m","10m","20m","30m","1h","2h","4h","12h"]}},{"kind":"ListVariable","spec":{"allow_all_value":false,"allow_multiple":false,"default_value":"15s","name":"rate_interval","plugin":{"kind":"StaticListVariable","spec":{"values":[{"label":"15s","value":"15s"},{"label":"30s","value":"30s"},{"label":"1m","value":"1m"},{"label":"2m","value":"2m"},{"label":"5m","value":"5m"}]}}}},{"kind":"ListVariable","spec":{"allow_all_value":false,"allow_multiple":false,"default_value":"15s","name":"_rate__interval","plugin":{"kind":"StaticListVariable","spec":{"values":[{"label":"15s","value":"15s"},{"label":"30s","value":"30s"},{"label":"1m","value":"1m"},{"label":"2m","value":"2m"},{"label":"5m","value":"5m"}]}}}}],"duration":"7d"},"spec_version":"1"}'
