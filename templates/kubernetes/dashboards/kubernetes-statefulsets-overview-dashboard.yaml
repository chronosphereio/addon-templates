api_version: v1/config
kind: Dashboard
spec:
  slug: kubernetes-statefulsets-overview
  name: Kubernetes StatefulSets Overview
  collection_slug: kubernetes-collection
  dashboard_json: '{"kind":"Dashboard","spec":{"events":[],"panels":{"CPUUsage":{"kind":"Panel","spec":{"display":{"description":"","name":"CPU
    Usage "},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"Bottom"},"visual":{"area_opacity":0,"line_width":1,"null_behavior":"Connected"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (namespace, cluster_name, statefulset) (rate(container_cpu_usage_seconds_total{container!=\"\",env=~\"$env\",
    cluster_name=~\"$kube_cluster_name\", namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"}[$__rate_interval]))","series_name":{"name_pattern":"cluster:{{cluster_name}}
    namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"ReplicasReady":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    By Cluster"},"formulas":[],"links":[],"plugin":{"kind":"Table","spec":{"sort":[{"sortBy":"Mean","sortOrder":"desc"}],"transform":{"kind":"Aggregation","labelsToColumns":true,"stats":["Mean"]}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (cluster_name) (kube_statefulset_replicas{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","queryType":"Instant","series_name":{"name_pattern":"cluster:{{cluster_name}}","type":"Labels"}}}}}]}},"ReplicasReady-1":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Change (Hourly)"},"formulas":[],"links":[],"plugin":{"kind":"BarChart","spec":{"calculation":"LastNumber","limit":25,"mode":"value","sort":"desc","thresholds":{"steps":[{"color":"#C53C3F","value":-1000000000},{"color":"#2D8658","value":0}]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (cluster_name, statefulset, namespace) (kube_statefulset_status_replicas_ready{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})
    - \nsum by (cluster_name, statefulset, namespace) (kube_statefulset_status_replicas_ready{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"}
    offset 1h)","series_name":{"name_pattern":"cluster:{{cluster_name}} namespace:{{namespace}}
    statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"ReplicasReady-2":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Not Ready"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"Bottom"},"visual":{"area_opacity":0,"line_width":1,"null_behavior":"Connected"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (cluster_name, statefulset, namespace) (kube_statefulset_status_replicas{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})
    - \nsum by (cluster_name, statefulset, namespace) (kube_statefulset_status_replicas_ready{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"cluster:{{cluster_name}}
    namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"StatefulSetsReplicas":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Ready"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"Bottom"},"visual":{"area_opacity":0,"line_width":1,"null_behavior":"Connected"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (cluster_name, statefulset, namespace) (kube_statefulset_status_replicas_ready{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"cluster:{{cluster_name}}
    namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"cpuRequestsLimitsAndUsageNoTargets-15":{"kind":"Panel","spec":{"display":{"description":"","name":"CPU
    Limits, Requests & Usage"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (namespace, cluster_name, statefulset) (kube_pod_container_resource_limits{resource=\"cpu\",env=~\"$env\",
    cluster_name=~\"$kube_cluster_name\", namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"Limits:
    cluster:{{cluster_name}} namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (namespace, cluster_name, statefulset) (kube_pod_container_resource_requests{resource=\"cpu\",env=~\"$env\",
    cluster_name=~\"$kube_cluster_name\", namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"Requests:
    cluster:{{cluster_name}} namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (namespace, cluster_name, statefulset) (rate(container_cpu_usage_seconds_total{container!=\"\",env=~\"$env\",
    cluster_name=~\"$kube_cluster_name\", namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"}[$__rate_interval]))","series_name":{"name_pattern":"Usage:
    cluster:{{cluster_name}} namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"current-29":{"kind":"Panel","spec":{"display":{"description":"","name":"Current"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_statefulset_status_replicas_current{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","queryType":"Range","reducer":"LastNumber","series_name":{"name_pattern":"cluster:{{cluster_name}}
    namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"desired-2":{"kind":"Panel","spec":{"display":{"description":"","name":"Desired"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_statefulset_replicas{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","queryType":"Range","reducer":"LastNumber","series_name":{"name_pattern":"cluster:{{cluster_name}}
    namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"diskUsage-23":{"kind":"Panel","spec":{"display":{"description":"","name":"Disk
    Usage"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (namespace, cluster_name, statefulset) (container_fs_usage_bytes{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"cluster:{{cluster_name}}
    namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"diskUsage-24":{"kind":"Panel","spec":{"display":{"description":"","name":"Disk
    % Used"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"thresholds":{"mode":"Absolute","steps":[{"color":"#EA4747","value":100}]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"kind":"Percent"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (namespace, cluster_name, statefulset) \n(container_fs_usage_bytes{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"}
    / container_fs_limit_bytes{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})
    * 100","series_name":{"name_pattern":"cluster:{{cluster_name}} namespace:{{namespace}}
    statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"memoryRequestsLimitsAndUsageNoTargets-16":{"kind":"Panel","spec":{"display":{"description":"","name":"Memory
    Limits, Requests & Usage"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"thresholds":{},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (cluster_name, namespace, statefulset) (kube_pod_container_resource_limits{resource=\"memory\",env=~\"$env\",cluster_name=~\"$kube_cluster_name\",
    namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"Limits:
    cluster:{{cluster_name}} namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (cluster_name, namespace, statefulset) (kube_pod_container_resource_requests{resource=\"memory\",env=~\"$env\",cluster_name=~\"$kube_cluster_name\",
    namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"Requests:
    cluster:{{cluster_name}} namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (cluster_name, namespace, statefulset) (container_memory_usage_bytes{container!=\"\",env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"Usage:
    cluster:{{cluster_name}} namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"memoryUsageByKubeStatefulSet-12":{"kind":"Panel","spec":{"display":{"description":"","name":"Memory
    Usage"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (cluster_name, namespace, statefulset) (container_memory_usage_bytes{container!=\"\",env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"cluster:{{cluster_name}}
    namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"mostCpuIntensiveKubeStatefulSet-14":{"kind":"Panel","spec":{"display":{"description":"","name":"Top
    CPU Usage StatefulSets"},"formulas":[],"links":[],"plugin":{"kind":"Table","spec":{"sort":[{"sortBy":"Mean","sortOrder":"desc"}],"transform":{"kind":"Aggregation","labelsToColumns":true,"stats":["Mean"]},"unit":{"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (namespace, cluster_name, statefulset) (rate(container_cpu_usage_seconds_total{container!=\"\",env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"}[$__rate_interval]))","series_name":{"name_pattern":"cluster:{{cluster_name}}
    namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"mostDiskIntensiveStatefulSets-25":{"kind":"Panel","spec":{"display":{"description":"","name":"Top
    Disk Usage"},"formulas":[],"links":[],"plugin":{"kind":"Table","spec":{"sort":[{"sortBy":"Mean","sortOrder":"desc"}],"transform":{"kind":"Aggregation","labelsToColumns":true,"stats":["Mean"]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (namespace, cluster_name, statefulset) \n(container_fs_usage_bytes{env=~\"$env\",
    cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"cluster:{{cluster_name}}
    namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"mostMemoryIntensiveKubeStatefulSet-13":{"kind":"Panel","spec":{"display":{"description":"","name":"Top
    Memory Usage"},"formulas":[],"links":[],"plugin":{"kind":"Table","spec":{"sort":[{"sortBy":"Mean","sortOrder":"desc"}],"transform":{"kind":"Aggregation","labelsToColumns":true,"stats":["Mean"]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (cluster_name, namespace, statefulset) (container_memory_usage_bytes{container!=\"\",env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"cluster:{{cluster_name}}
    namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"mostNetworkIntensiveStatefulSets-26":{"kind":"Panel","spec":{"display":{"description":"","name":"Top
    Network Traffic (Tx per sec)"},"formulas":[],"links":[],"plugin":{"kind":"Table","spec":{"sort":[{"sortBy":"Mean","sortOrder":"desc"}],"transform":{"kind":"Aggregation","labelsToColumns":true,"stats":["Mean"]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"disabled":false,"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (namespace, cluster_name, statefulset) (rate(container_network_transmit_bytes_total{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"}[$__rate_interval]))","series_name":{"name_pattern":"cluster:{{cluster_name}}
    namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"networkErrorsNoTargets-22":{"kind":"Panel","spec":{"display":{"description":"","name":"Network
    Errors (Rx/Tx per sec)"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"thresholds":{"mode":"Absolute","steps":[{"color":"#2CB46B","value":0}]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (statefulset, namespace, cluster_name)(rate(container_network_receive_errors_total{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"}[$__rate_interval]))","series_name":{"name_pattern":"Receive:
    cluster:{{cluster_name}} namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (statefulset, namespace, cluster_name)(rate(container_network_transmit_errors_total{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"}[$__rate_interval]))","series_name":{"name_pattern":"Transmit:
    cluster:{{cluster_name}} namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"networkUsageRxTxRateNoTargets-21":{"kind":"Panel","spec":{"display":{"description":"","name":"Network
    Throughput (Rx/Tx per sec)"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by(statefulset, namespace, cluster_name) (rate(container_network_receive_bytes_total{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",
    namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"}[$__rate_interval]))","series_name":{"name_pattern":"Receive:
    cluster:{{cluster_name}} namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by(statefulset, namespace, cluster_name) (rate(container_network_transmit_bytes_total{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",
    namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"}[$__rate_interval]))","series_name":{"name_pattern":"Transmit:
    cluster:{{cluster_name}} namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"ready-0":{"kind":"Panel","spec":{"display":{"description":"","name":"Ready"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_statefulset_status_replicas_ready{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","queryType":"Range","reducer":"LastNumber","series_name":{"name_pattern":"cluster:{{cluster_name}}
    namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"replicas-4270319062329448":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_statefulset_status_replicas{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","queryType":"Range","reducer":"LastNumber","series_name":{"name_pattern":"cluster:{{cluster_name}}
    namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"replicasDesired-3":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Desired"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (statefulset) (kube_statefulset_replicas{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"replicasDesiredButNotReady-970014367137824":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Desired but Not Ready"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (statefulset) (kube_statefulset_replicas{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})
    - \nsum by (statefulset) (kube_statefulset_status_replicas_ready{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"replicasReady-1":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Ready"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"min":0,"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (statefulset) (kube_statefulset_status_replicas_ready{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","series_name":{"name_pattern":"statefulset:{{statefulset}}","type":"Labels"}}}}}]}},"updated-5652092250575542":{"kind":"Panel","spec":{"display":{"description":"","name":"Updated"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_statefulset_status_replicas_updated{env=~\"$env\",cluster_name=~\"$kube_cluster_name\",namespace=~\"$kube_namespace\",statefulset=~\"$kube_stateful_set\"})","queryType":"Range","reducer":"LastNumber","series_name":{"name_pattern":"cluster:{{cluster_name}}
    namespace:{{namespace}} statefulset:{{statefulset}}","type":"Labels"}}}}}]}}},"layouts":[{"kind":"Grid","spec":{"display":{"title":"Overview","collapse":{"open":true}},"items":[{"x":12,"y":0,"width":6,"height":5,"content":{"$ref":"#/spec/panels/ready-0"}},{"x":6,"y":0,"width":6,"height":5,"content":{"$ref":"#/spec/panels/desired-2"}},{"x":0,"y":0,"width":6,"height":5,"content":{"$ref":"#/spec/panels/updated-5652092250575542"}},{"x":18,"y":0,"width":6,"height":5,"content":{"$ref":"#/spec/panels/current-29"}},{"x":0,"y":5,"width":6,"height":5,"content":{"$ref":"#/spec/panels/replicas-4270319062329448"}},{"x":0,"y":10,"width":6,"height":7,"content":{"$ref":"#/spec/panels/ReplicasReady"}},{"x":15,"y":5,"width":9,"height":6,"content":{"$ref":"#/spec/panels/StatefulSetsReplicas"}},{"x":6,"y":5,"width":9,"height":6,"content":{"$ref":"#/spec/panels/ReplicasReady-2"}},{"x":6,"y":11,"width":18,"height":7,"content":{"$ref":"#/spec/panels/ReplicasReady-1"}}]}},{"kind":"Grid","spec":{"display":{"title":"Replicas
    by Statefulsets","collapse":{"open":true}},"items":[{"x":0,"y":0,"width":12,"height":8,"content":{"$ref":"#/spec/panels/replicasDesired-3"}},{"x":12,"y":0,"width":12,"height":8,"content":{"$ref":"#/spec/panels/replicasReady-1"}},{"x":0,"y":8,"width":12,"height":8,"content":{"$ref":"#/spec/panels/replicasDesiredButNotReady-970014367137824"}}]}},{"kind":"Grid","spec":{"display":{"title":"CPU","collapse":{"open":true}},"items":[{"x":14,"y":0,"width":10,"height":15,"content":{"$ref":"#/spec/panels/mostCpuIntensiveKubeStatefulSet-14"}},{"x":0,"y":7,"width":14,"height":8,"content":{"$ref":"#/spec/panels/cpuRequestsLimitsAndUsageNoTargets-15"}},{"x":0,"y":0,"width":14,"height":7,"content":{"$ref":"#/spec/panels/CPUUsage"}}]}},{"kind":"Grid","spec":{"display":{"title":"Memory","collapse":{"open":true}},"items":[{"x":0,"y":0,"width":14,"height":8,"content":{"$ref":"#/spec/panels/memoryUsageByKubeStatefulSet-12"}},{"x":14,"y":0,"width":10,"height":16,"content":{"$ref":"#/spec/panels/mostMemoryIntensiveKubeStatefulSet-13"}},{"x":0,"y":8,"width":14,"height":8,"content":{"$ref":"#/spec/panels/memoryRequestsLimitsAndUsageNoTargets-16"}}]}},{"kind":"Grid","spec":{"display":{"title":"Network","collapse":{"open":true}},"items":[{"x":0,"y":0,"width":14,"height":8,"content":{"$ref":"#/spec/panels/networkUsageRxTxRateNoTargets-21"}},{"x":14,"y":0,"width":10,"height":16,"content":{"$ref":"#/spec/panels/mostNetworkIntensiveStatefulSets-26"}},{"x":0,"y":8,"width":14,"height":8,"content":{"$ref":"#/spec/panels/networkErrorsNoTargets-22"}}]}},{"kind":"Grid","spec":{"display":{"title":"Disk","collapse":{"open":true}},"items":[{"x":0,"y":0,"width":14,"height":8,"content":{"$ref":"#/spec/panels/diskUsage-23"}},{"x":0,"y":8,"width":14,"height":8,"content":{"$ref":"#/spec/panels/diskUsage-24"}},{"x":14,"y":0,"width":10,"height":16,"content":{"$ref":"#/spec/panels/mostDiskIntensiveStatefulSets-25"}}]}}],"variables":[{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":"$__all","display":{"name":"env"},"name":"env","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"env"}},"refresh":"DashboardLoad"}},{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":"$__all","display":{"name":"kube_cluster_name"},"name":"kube_cluster_name","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"cluster_name","matchers":[]}},"refresh":"DashboardLoad"}},{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":"$__all","display":{"name":"kube_namespace"},"name":"kube_namespace","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"namespace","matchers":[]}}}},{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":"$__all","display":{"name":"kube_stateful_set"},"name":"kube_stateful_set","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"statefulset","matchers":[]}}}}],"duration":"7d"},"spec_version":"1"}'
