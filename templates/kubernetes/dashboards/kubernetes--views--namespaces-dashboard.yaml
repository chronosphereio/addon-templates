api_version: v1/config
kind: Dashboard
spec:
  slug: kubernetes--views--namespaces
  name: Kubernetes / Views / Namespaces
  collection_slug: kubernetes-collection
  dashboard_json: '{"kind":"Dashboard","spec":{"events":[],"panels":{"containerRestartsByNamespacePod-75":{"kind":"Panel","spec":{"display":{"description":"No
    data is generally a good thing here.","name":"Container Restarts by namespace,
    pod"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"Right"},"visual":{"area_opacity":0,"line_width":1,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (namespace, pod)(increase(kube_pod_container_status_restarts_total{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"${namespace}\"}[$__rate_interval]))
    > 0","series_name":{"name_pattern":"namespace:{{namespace}} - pod:{{pod}}","type":"Labels"}}}}}]}},"cpuThrottledSecondsByPod-68":{"kind":"Panel","spec":{"display":{"description":"","name":"CPU
    Throttled seconds by pod"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"Right"},"visual":{"area_opacity":0,"line_width":1,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"decimal_places":2,"kind":"Seconds"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"$resolution","query":"sum
    by (pod)(rate(container_cpu_cfs_throttled_seconds_total{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"}[$__rate_interval]))
    > 0","series_name":{"name_pattern":"{{pod}}","type":"Labels"}}}}}]}},"cpuUsageByPod-29":{"kind":"Panel","spec":{"display":{"description":"","name":"CPU
    usage by Pod"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"Right"},"visual":{"area_opacity":0,"line_width":1,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":false,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"$resolution","query":"sum
    by (pod)(rate(container_cpu_usage_seconds_total{env=~\"$env\",container!=\"\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"}[$__rate_interval]))","series_name":{"name_pattern":"{{pod}}","type":"Labels"}}}}}]}},"kubernetesPodsQoSClasses-70":{"kind":"Panel","spec":{"display":{"description":"","name":"Kubernetes
    Pods QoS classes"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"Right"},"visual":{"area_opacity":0,"line_width":1,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (qos_class)\n(kube_pod_status_qos_class{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"{{qos_class}}
    pods","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_pod_info{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"Total
    pods","type":"Labels"}}}}}]}},"kubernetesPodsStatusReason-72":{"kind":"Panel","spec":{"display":{"description":"","name":"Kubernetes
    Pods Status Reason"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"Right"},"visual":{"area_opacity":0,"line_width":1,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (reason)\n(kube_pod_status_reason{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"${namespace}\"})","series_name":{"name_pattern":"{{reason}}","type":"Labels"}}}}}]}},"kubernetesResourceCount-32":{"kind":"Panel","spec":{"display":{"description":"","name":"Kubernetes
    Resource Count"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"Right"},"y_axis":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"$resolution","query":"sum(kube_pod_container_status_running{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"Running
    Pods","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"$resolution","query":"sum(kube_service_info{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"Services","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"$resolution","query":"sum(kube_ingress_info{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"Ingresses","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"$resolution","query":"sum(kube_deployment_labels{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"Deployments","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"$resolution","query":"sum(kube_statefulset_labels{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"Statefulsets","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"$resolution","query":"sum(kube_daemonset_labels{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"Daemonsets","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"$resolution","query":"sum(kube_persistentvolumeclaim_info{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"Persistent
    Volume Claims","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"$resolution","query":"sum(kube_hpa_labels{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"Horizontal
    Pod Autoscalers","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"$resolution","query":"sum(kube_configmap_info{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"Configmaps","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"$resolution","query":"sum(kube_secret_info{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"Secrets","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"$resolution","query":"sum(kube_networkpolicy_labels{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"Network
    Policies","type":"Labels"}}}}}]}},"memoryUsageByPod-30":{"kind":"Panel","spec":{"display":{"description":"","name":"Memory
    usage by Pod"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"Right"},"visual":{"area_opacity":0,"line_width":1,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"kind":"Bytes"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"$resolution","query":"sum
    by (pod)(container_memory_working_set_bytes{env=~\"$env\",container!=\"\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"{{pod}}","type":"Labels"}}}}}]}},"namespaceSCpuUsageInCores-62":{"kind":"Panel","spec":{"display":{"description":"","name":"Namespace(s)
    CPU Usage in cores"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"Mean","thresholds":{"base":{"color":"rgb(255,
    255, 255)"},"steps":[]},"unit":{"abbreviate":false,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(rate(container_cpu_usage_seconds_total{env=~\"$env\",container!=\"\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"}[$__rate_interval]))","series_name":{"name_pattern":"Real","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_pod_container_resource_requests{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\",
    resource=\"cpu\"})","series_name":{"name_pattern":"Requests","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_pod_container_resource_limits{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\",
    resource=\"cpu\"})","series_name":{"name_pattern":"Limits","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(machine_cpu_cores{env=~\"$env\",cluster_name=~\"$cluster_name\"})","series_name":{"name_pattern":"Cluster
    Total","type":"Labels"}}}}}]}},"namespaceSRamUsageInBytes-64":{"kind":"Panel","spec":{"display":{"description":"","name":"Namespace(s)
    RAM Usage in bytes"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"Mean","thresholds":{"base":{"color":"rgb(255,
    255, 255)"},"steps":[]},"unit":{"abbreviate":true,"kind":"Bytes"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(container_memory_working_set_bytes{env=~\"$env\",container!=\"\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"Real","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_pod_container_resource_requests{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\",
    resource=\"memory\"})","series_name":{"name_pattern":"Requests","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_pod_container_resource_limits{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\",
    resource=\"memory\"})","series_name":{"name_pattern":"Limits","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(machine_memory_bytes{env=~\"$env\",cluster_name=~\"$cluster_name\"})","series_name":{"name_pattern":"Cluster
    Total","type":"Labels"}}}}}]}},"namespaceSUsageOnTotalClusterCpuIn-46":{"kind":"Panel","spec":{"display":{"description":"","name":"Namespace(s)
    usage % on total cluster CPU"},"formulas":[],"links":[],"plugin":{"kind":"GaugeChart","spec":{"calculation":"Mean","max":1,"thresholds":{"base":{"color":"#2CB46B"},"mode":"Percent","steps":[{"color":"#E67700","value":50},{"color":"#EA4747","value":70}]},"unit":{"abbreviate":true,"decimal_places":2,"kind":"PercentDecimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(rate(container_cpu_usage_seconds_total{env=~\"$env\",container!=\"\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"}[$__rate_interval]))
    / \nsum(machine_cpu_cores{env=~\"$env\",cluster_name=~\"$cluster_name\"})"}}}}]}},"namespaceSUsageOnTotalClusterRamIn-48":{"kind":"Panel","spec":{"display":{"description":"","name":"Namespace(s)
    usage % on total cluster RAM"},"formulas":[],"links":[],"plugin":{"kind":"GaugeChart","spec":{"calculation":"LastNumber","max":1,"thresholds":{"base":{"color":"#2CB46B"},"mode":"Percent","steps":[{"color":"#E67700","value":50},{"color":"#EA4747","value":70}]},"unit":{"abbreviate":true,"decimal_places":2,"kind":"PercentDecimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(container_memory_working_set_bytes{env=~\"$env\",container!=\"\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})
    / \nsum(machine_memory_bytes{env=~\"$env\",cluster_name=~\"$cluster_name\"})"}}}}]}},"nbOfContainersByPod-2":{"kind":"Panel","spec":{"display":{"description":"","name":"Nb
    of containers by pod"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"Right"},"visual":{"area_opacity":0,"line_width":1,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":false,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (pod)\n(kube_pod_container_info{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"{{pod}}","type":"Labels"}}}}}]}},"nbOfPodsByState-5":{"kind":"Panel","spec":{"display":{"description":"","name":"Nb
    of pods by state"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"Right"},"visual":{"area_opacity":0,"line_width":1,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":false,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_pod_container_status_ready{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"Ready","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_pod_container_status_running{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"Running","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_pod_container_status_waiting{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"Waiting","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_pod_container_status_restarts_total{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"Restarts
    Total","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum(kube_pod_container_status_terminated{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"Terminated","type":"Labels"}}}}}]}},"oomEventsByNamespacePod-74":{"kind":"Panel","spec":{"display":{"description":"No
    data is generally a good thing here.","name":"OOM Events by namespace, pod"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"Right"},"visual":{"area_opacity":0,"line_width":1,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (namespace, pod)(increase(container_oom_events_total{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"${namespace}\"}[$__rate_interval]))
    > 0","series_name":{"name_pattern":"namespace:{{namespace}} - pod:{{pod}}","type":"Labels"}}}}}]}},"persistentVolumesCapacityAndUsageIn-65":{"kind":"Panel","spec":{"display":{"description":"","name":"Persistent
    Volumes - Capacity and usage in %"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"Right"},"visual":{"area_opacity":0,"line_width":1,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"decimal_places":2,"kind":"PercentDecimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (persistentvolumeclaim)(kubelet_volume_stats_used_bytes{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})
    / \nsum by (persistentvolumeclaim)(kubelet_volume_stats_capacity_bytes{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"{{persistentvolumeclaim}}","type":"Labels"}}}}}]}},"persistentVolumesCapacityAndUsageInBytes-66":{"kind":"Panel","spec":{"display":{"description":"","name":"Persistent
    Volumes - Capacity and usage in bytes"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"Right"},"visual":{"area_opacity":0,"line_width":1,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"decimal_places":2,"kind":"Bytes"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (persistentvolumeclaim)(kubelet_volume_stats_used_bytes{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"{{persistentvolumeclaim}}
    - Used","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (persistentvolumeclaim)(kubelet_volume_stats_capacity_bytes{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"{{persistentvolumeclaim}}
    - Capacity","type":"Labels"}}}}}]}},"persistentVolumesInodes-27":{"kind":"Panel","spec":{"display":{"description":"","name":"Persistent
    Volumes - Inodes"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"Right"},"visual":{"area_opacity":0,"line_width":1,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"decimal_places":2,"kind":"PercentDecimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"1
    - sum by (persistentvolumeclaim)(kubelet_volume_stats_inodes_used{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})
    / \nsum by (persistentvolumeclaim)(kubelet_volume_stats_inodes{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"{{persistentvolumeclaim}}","type":"Labels"}}}}}]}},"replicasAvailableByDeployment-7":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    available by deployment"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"Right"},"visual":{"area_opacity":0,"line_width":1,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (deployment)(kube_deployment_status_replicas_available{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"{{deployment}}","type":"Labels"}}}}}]}},"replicasUnavailableByDeployment-8":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    unavailable by deployment"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"Right"},"visual":{"area_opacity":0,"line_width":1,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    by (deployment)(kube_deployment_status_replicas_unavailable{env=~\"$env\",cluster_name=~\"$cluster_name\",namespace=~\"$namespace\"})","series_name":{"name_pattern":"{{deployment}}","type":"Labels"}}}}}]}}},"layouts":[{"kind":"Grid","spec":{"display":{"title":"Overview","collapse":{"open":true}},"items":[{"x":0,"y":12,"width":12,"height":7,"content":{"$ref":"#/spec/panels/namespaceSUsageOnTotalClusterCpuIn-46"}},{"x":12,"y":12,"width":12,"height":7,"content":{"$ref":"#/spec/panels/namespaceSUsageOnTotalClusterRamIn-48"}},{"x":0,"y":0,"width":24,"height":8,"content":{"$ref":"#/spec/panels/kubernetesResourceCount-32"}},{"x":0,"y":8,"width":12,"height":4,"content":{"$ref":"#/spec/panels/namespaceSCpuUsageInCores-62"}},{"x":12,"y":8,"width":12,"height":4,"content":{"$ref":"#/spec/panels/namespaceSRamUsageInBytes-64"}}]}},{"kind":"Grid","spec":{"display":{"title":"Resources","collapse":{"open":true}},"items":[{"x":0,"y":0,"width":12,"height":8,"content":{"$ref":"#/spec/panels/cpuUsageByPod-29"}},{"x":12,"y":0,"width":12,"height":8,"content":{"$ref":"#/spec/panels/memoryUsageByPod-30"}},{"x":0,"y":8,"width":12,"height":8,"content":{"$ref":"#/spec/panels/cpuThrottledSecondsByPod-68"}}]}},{"kind":"Grid","spec":{"display":{"title":"Kubernetes","collapse":{"open":true}},"items":[{"x":0,"y":0,"width":12,"height":9,"content":{"$ref":"#/spec/panels/kubernetesPodsQoSClasses-70"}},{"x":12,"y":0,"width":12,"height":9,"content":{"$ref":"#/spec/panels/kubernetesPodsStatusReason-72"}},{"x":0,"y":9,"width":12,"height":9,"content":{"$ref":"#/spec/panels/oomEventsByNamespacePod-74"}},{"x":12,"y":9,"width":12,"height":9,"content":{"$ref":"#/spec/panels/containerRestartsByNamespacePod-75"}},{"x":0,"y":18,"width":12,"height":8,"content":{"$ref":"#/spec/panels/nbOfPodsByState-5"}},{"x":12,"y":18,"width":12,"height":8,"content":{"$ref":"#/spec/panels/nbOfContainersByPod-2"}},{"x":0,"y":26,"width":12,"height":8,"content":{"$ref":"#/spec/panels/replicasAvailableByDeployment-7"}},{"x":12,"y":26,"width":12,"height":8,"content":{"$ref":"#/spec/panels/replicasUnavailableByDeployment-8"}}]}},{"kind":"Grid","spec":{"display":{"title":"Kubernetes
    Storage","collapse":{"open":true}},"items":[{"x":0,"y":0,"width":12,"height":8,"content":{"$ref":"#/spec/panels/persistentVolumesCapacityAndUsageIn-65"}},{"x":12,"y":0,"width":12,"height":8,"content":{"$ref":"#/spec/panels/persistentVolumesCapacityAndUsageInBytes-66"}},{"x":0,"y":8,"width":12,"height":8,"content":{"$ref":"#/spec/panels/persistentVolumesInodes-27"}}]}}],"variables":[{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":"$__all","display":{"name":"env"},"name":"env","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"env"}},"refresh":"DashboardLoad"}},{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":"$__all","name":"cluster_name","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"cluster_name","matchers":["kube_pod_info"]}},"refresh":"TimeRangeUpdate"}},{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":"$__all","name":"namespace","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"namespace","matchers":["kube_pod_info"]}},"refresh":"TimeRangeUpdate"}},{"kind":"ListVariable","spec":{"allow_all_value":false,"allow_multiple":false,"default_value":"5m","name":"resolution","plugin":{"kind":"StaticListVariable","spec":{"values":[{"label":"15s","value":"15s"},{"label":"30s","value":"30s"},{"label":"1m","value":"1m"},{"label":"2m","value":"2m"},{"label":"5m","value":"5m"},{"label":"10m","value":"10m"},{"label":"15m","value":"15m"},{"label":"30m","value":"30m"},{"label":"1h","value":"1h"},{"label":"2h","value":"2h"},{"label":"4h","value":"4h"},{"label":"6h","value":"6h"},{"label":"12h","value":"12h"},{"label":"1d","value":"1d"}]}},"refresh":"DashboardLoad"}}],"duration":"1h"},"spec_version":"1"}'
