api_version: v1/config
kind: Dashboard
spec:
  slug: k8s-daemonsets-overview
  name: Kubernetes DaemonSets Overview
  collection_slug: kubernetes-collection
  dashboard_json: '{"kind":"Dashboard","spec":{"events":[],"panels":{"cpuRequestsLimitsAndUsage-18":{"kind":"Panel","spec":{"display":{"description":"","name":"CPU
    Limits, Requests & Usage"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (namespace, k8s_cluster_name, daemonset) ( \n\nkube_pod_container_resource_requests{resource=\"cpu\",env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n)","series_name":{"name_pattern":"Requests:
    cluster:{{k8s_cluster_name}} daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (namespace, k8s_cluster_name, daemonset) (\n    rate(\n            container_cpu_usage_seconds_total{container!=\"\",env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}[$__rate_interval]\n    )\n  )","series_name":{"name_pattern":"Usage:
    cluster:{{k8s_cluster_name}} daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (namespace, k8s_cluster_name, daemonset) (\n      \nkube_pod_container_resource_limits{resource=\"cpu\",env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n)\n","series_name":{"name_pattern":"Limits:
    cluster:{{k8s_cluster_name}} daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}}]}},"cpuUsageByDaemonSet-14":{"kind":"Panel","spec":{"display":{"description":"","name":"CPU
    Usage"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"label":"","unit":{"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (k8s_cluster_name, namespace, daemonset) (\n  rate(\n    container_cpu_usage_seconds_total{container!=\"\",env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}[$__rate_interval]\n  )\n)","series_name":{"name_pattern":"cluster:{{k8s_cluster_name}}
    daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}}]}},"daemonSets-30":{"kind":"Panel","spec":{"display":{"description":"","name":"DaemonSets
    Replicas"},"formulas":[],"links":[],"plugin":{"kind":"BarChart","spec":{"calculation":"LastNumber","limit":25,"mode":"value","sort":"desc","unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (daemonset) (\n  kube_daemonset_status_number_ready{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n)","series_name":{"name_pattern":"daemonset:{{daemonset}}","type":"Labels"}}}}}]}},"daemonSetsSizeByCluster-32":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    By Cluster"},"formulas":[],"links":[],"plugin":{"kind":"Table","spec":{"columnOverrides":[{"properties":{"displayName":"Avg"},"value":"LastNumber"},{"properties":{"displayName":"cluster"},"value":"k8s_cluster_name"}],"sort":[{"sortBy":"LastNumber","sortOrder":"desc"}],"transform":{"kind":"Aggregation","labelsToColumns":true,"stats":["LastNumber"]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"head_avg(\n  max
    by (k8s_cluster_name) (\n      kube_daemonset_status_desired_number_scheduled{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n  ),\n  10\n)","series_name":{"name_pattern":"cluster:{{k8s_cluster_name}}","type":"Labels"}}}}}]}},"desired-4":{"kind":"Panel","spec":{"display":{"description":"","name":"Desired"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(\n  kube_daemonset_status_desired_number_scheduled{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n)","series_name":{"name_pattern":"cluster:{{k8s_cluster_name}}
    daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}}]}},"diskUsage-26":{"kind":"Panel","spec":{"display":{"description":"","name":"Disk
    Usage"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"unit":{"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (namespace, k8s_cluster_name, daemonset) (\n  container_fs_usage_bytes{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n)","series_name":{"name_pattern":"cluster:{{k8s_cluster_name}}
    daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}}]}},"diskUsage-27":{"kind":"Panel","spec":{"display":{"description":"","name":"Disk
    % Used"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"thresholds":{"mode":"Absolute","steps":[{"color":"#EA4747","value":100}]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"unit":{"kind":"Percent"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"100
    * (\n  sum by (namespace, k8s_cluster_name, daemonset) (\n\ncontainer_fs_usage_bytes{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n  )\n  /\n  sum
    by (namespace, k8s_cluster_name, daemonset) (\n\ncontainer_fs_limit_bytes{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n  )\n)","series_name":{"name_pattern":"cluster:{{k8s_cluster_name}}
    daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}}]}},"memoryRequestsLimitsAndUsage-19":{"kind":"Panel","spec":{"display":{"description":"","name":"Memory
    Limits, Requests & Usage"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (namespace, k8s_cluster_name, daemonset) ( \n\nkube_pod_container_resource_requests{resource=\"memory\",env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n)","series_name":{"name_pattern":"Requests:
    cluster:{{k8s_cluster_name}} daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (namespace, k8s_cluster_name, daemonset) (\n  container_memory_usage_bytes{container!=\"\",env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n)","series_name":{"name_pattern":"Usage:
    cluster:{{k8s_cluster_name}} daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (namespace, k8s_cluster_name, daemonset) ( \n\nkube_pod_container_resource_limits{resource=\"memory\",env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n)","series_name":{"name_pattern":"Limits:
    cluster:{{k8s_cluster_name}} daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}}]}},"memoryUsageByDaemonSet-15":{"kind":"Panel","spec":{"display":{"description":"","name":"Memory
    Usage"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"unit":{"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (k8s_cluster_name, namespace, daemonset) (\n  container_memory_usage_bytes{container!=\"\",env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n)","series_name":{"name_pattern":"cluster:{{k8s_cluster_name}}
    daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}}]}},"misscheduled-2755452721159086":{"kind":"Panel","spec":{"display":{"description":"","name":"Misscheduled"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(\n  kube_daemonset_status_number_misscheduled{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n)","series_name":{"name_pattern":"cluster:{{k8s_cluster_name}}
    daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}}]}},"mostCpuIntensiveDaemonSet-17":{"kind":"Panel","spec":{"display":{"description":"","name":"Top
    CPU Usage"},"formulas":[],"links":[],"plugin":{"kind":"Table","spec":{"columnOverrides":[{"properties":{"displayName":"daemonset"},"value":"daemonset"},{"properties":{"displayName":"namespace"},"value":"namespace"},{"properties":{"displayName":"cluster"},"value":"k8s_cluster_name"},{"properties":{"displayName":"Max"},"value":"Sum"},{"properties":{"displayName":"Max"},"value":"LastNumber"}],"sort":[{"sortBy":"LastNumber","sortOrder":"desc"}],"transform":{"kind":"Aggregation","labelsToColumns":true,"stats":["LastNumber"]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"head_avg(\n  sum
    by (namespace, k8s_cluster_name, daemonset) (\n    rate(\n      container_cpu_usage_seconds_total{container!=\"\",env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}[$__rate_interval]\n    )\n  ),\n  10\n)","series_name":{"name_pattern":"cluster:{{k8s_cluster_name}}
    daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}}]}},"mostDiskIntensiveDaemonSets-28":{"kind":"Panel","spec":{"display":{"description":"","name":"Top
    Disk Usage"},"formulas":[],"links":[],"plugin":{"kind":"Table","spec":{"columnOverrides":[{"properties":{"displayName":"cluster"},"value":"k8s_cluster_name"},{"properties":{"displayName":"Avg"},"value":"LastNumber"}],"sort":[{"sortBy":"LastNumber","sortOrder":"desc"}],"transform":{"kind":"Aggregation","labelsToColumns":true,"stats":["LastNumber"]},"unit":{"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"head_avg(\n  sum
    by (namespace, k8s_cluster_name, daemonset) (\n    container_fs_usage_bytes{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n  ),\n  10\n)","series_name":{"name_pattern":"cluster:{{k8s_cluster_name}}
    daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}}]}},"mostMemoryIntensiveDaemonSet-16":{"kind":"Panel","spec":{"display":{"description":"","name":"Top
    Memory Usage"},"formulas":[],"links":[],"plugin":{"kind":"Table","spec":{"columnOverrides":[{"properties":{"displayName":"cluster"},"value":"k8s_cluster_name"},{"properties":{"displayName":"Avg"},"value":"LastNumber"}],"sort":[{"sortBy":"LastNumber","sortOrder":"desc"}],"transform":{"kind":"Aggregation","labelsToColumns":true,"stats":["LastNumber"]},"unit":{"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"head_avg(\n  sum
    by (namespace, k8s_cluster_name, daemonset) (\n    container_memory_usage_bytes{container!=\"\",env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n  ),\n  10\n)","series_name":{"name_pattern":"cluster:{{k8s_cluster_name}}
    daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}}]}},"mostNetworkIntensiveDaemonSets-29":{"kind":"Panel","spec":{"display":{"description":"","name":"Top
    Network Traffic (Tx per sec)"},"formulas":[],"links":[],"plugin":{"kind":"Table","spec":{"columnOverrides":[{"properties":{"displayName":"cluster"},"value":"k8s_cluster_name"},{"properties":{"displayName":"Avg"},"value":"Last"}],"sort":[{"sortBy":"Last","sortOrder":"desc"}],"transform":{"kind":"Aggregation","labelsToColumns":true,"stats":["Last"]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"head_avg(\n  sum
    by (namespace, k8s_cluster_name, daemonset) (\n    rate( \n  container_network_transmit_bytes_total{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}[$__rate_interval]\n    )\n  ),\n  10\n)","series_name":{"name_pattern":"cluster:{{k8s_cluster_name}}
    daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}}]}},"networkErrors-25":{"kind":"Panel","spec":{"display":{"description":"","name":"Network
    Errors (Rx/Tx per sec)"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"thresholds":{"mode":"Absolute","steps":[{"color":"#2CB46B","value":0}]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (k8s_cluster_name, namespace, daemonset) (\n\nrate(container_network_transmit_errors_total{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}[$__rate_interval])\n)","series_name":{"name_pattern":"Receive:
    cluster:{{k8s_cluster_name}} daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (k8s_cluster_name, namespace, daemonset) (\n      rate(container_network_receive_errors_total{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}[$__rate_interval])\n)","series_name":{"name_pattern":"Transmit:
    cluster:{{k8s_cluster_name}} daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}}]}},"networkUsageRxTxRate-24":{"kind":"Panel","spec":{"display":{"description":"","name":"Network
    Throughput (Rx/Tx per sec)"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (k8s_cluster_name, namespace, daemonset) (\n  rate(\n  container_network_receive_bytes_total{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}[$__rate_interval]\n  )\n)","series_name":{"name_pattern":"Receive:
    cluster:{{k8s_cluster_name}} daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (k8s_cluster_name, namespace, daemonset) (\n  rate(\n\ncontainer_network_receive_bytes_total{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}[$__rate_interval]\n  )\n)","series_name":{"name_pattern":"Transmit:
    cluster:{{k8s_cluster_name}} daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}}]}},"ready-0":{"kind":"Panel","spec":{"display":{"description":"","name":"Ready"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(\n  kube_daemonset_status_number_ready{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n)","series_name":{"name_pattern":"cluster:{{k8s_cluster_name}}
    daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}}]}},"replicasChangesChange-10":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Change (Hourly)"},"formulas":[],"links":[],"plugin":{"kind":"BarChart","spec":{"calculation":"LastNumber","limit":25,"mode":"value","sort":"desc","thresholds":{"steps":[{"color":"#C53C3F","value":-1000000000},{"color":"#2D8658","value":0}]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"head_avg(\n  avg
    by (k8s_cluster_name, namespace, daemonset) (\n    kube_daemonset_status_number_ready{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n  ),\n  10\n)\n-\nhead_avg(\n  avg
    by (k8s_cluster_name, namespace, daemonset) (\n    kube_daemonset_status_number_ready{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}
    offset 1h\n  ),\n  10\n)","series_name":{"name_pattern":"cluster:{{k8s_cluster_name}}
    namespace:{{namespace}} daemonset:{{daemonset}}","type":"Labels"}}}}}]}},"replicasDesired-5":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Desired"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (daemonset) (\n  kube_daemonset_status_desired_number_scheduled{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n)","series_name":{"name_pattern":"daemonset:{{daemonset}}","type":"Labels"}}}}}]}},"replicasDesiredButNotReady-6":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Desired Not Ready"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"  sum
    by (daemonset) (\n    kube_daemonset_status_desired_number_scheduled{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n  )\n-\n  sum
    by (daemonset) (\n    kube_daemonset_status_number_ready{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n  )","series_name":{"name_pattern":"daemonset:{{daemonset}}","type":"Labels"}}}}}]}},"replicasMisscheduled-5553998018648320":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Misscheduled"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (daemonset) (\n  kube_daemonset_status_number_misscheduled{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n)","series_name":{"name_pattern":"daemonset:{{daemonset}}","type":"Labels"}}}}}]}},"replicasNotReady-11":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Not Ready"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"  sum
    by (k8s_cluster_name, namespace, daemonset) (\n    kube_daemonset_status_desired_number_scheduled{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n  )\n-\n  sum
    by (k8s_cluster_name, namespace, daemonset) (\n    kube_daemonset_status_number_ready{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n  )","series_name":{"name_pattern":"cluster:{{k8s_cluster_name}}
    daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}}]}},"replicasReady-1":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Ready"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (daemonset) (\n  kube_daemonset_status_number_ready{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n)","series_name":{"name_pattern":"daemonset:{{daemonset}}","type":"Labels"}}}}}]}},"replicasReady-9":{"kind":"Panel","spec":{"display":{"description":"","name":"Replicas
    Ready"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"List","position":"Bottom","values":[]},"tooltip":{"mode":"nearby","sort":"Descending"},"visual":{"area_opacity":0.05,"null_behavior":"Connected"},"y_axis":{"unit":{"abbreviate":true,"kind":"Decimal"}},"y_axis_right":{"unit":{"abbreviate":true,"kind":"Decimal"}}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by (k8s_cluster_name, namespace, daemonset) (\n  kube_daemonset_status_number_ready{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n)","series_name":{"name_pattern":"cluster:{{k8s_cluster_name}}
    daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}}]}},"scheduled-6231570606563465":{"kind":"Panel","spec":{"display":{"description":"","name":"Scheduled"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","thresholds":{"base":{"color":"#2CB46B"},"steps":[]},"unit":{"abbreviate":true,"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(\n  kube_daemonset_status_current_number_scheduled{env=~\"$env\",k8s_cluster_name=~\"$cluster\",daemonset=~\"$daemonset\",namespace=~\"$namespace\"}\n)","series_name":{"name_pattern":"cluster:{{k8s_cluster_name}}
    daemonset:{{daemonset}} namespace:{{namespace}}","type":"Labels"}}}}}]}}},"layouts":[{"kind":"Grid","spec":{"display":{"title":"DaemonSets
    Overview","collapse":{"open":true}},"items":[{"x":0,"y":18,"width":24,"height":8,"content":{"$ref":"#/spec/panels/replicasChangesChange-10"}},{"x":8,"y":10,"width":8,"height":8,"content":{"$ref":"#/spec/panels/replicasNotReady-11"}},{"x":0,"y":0,"width":12,"height":10,"content":{"$ref":"#/spec/panels/daemonSets-30"}},{"x":18,"y":0,"width":6,"height":5,"content":{"$ref":"#/spec/panels/scheduled-6231570606563465"}},{"x":12,"y":0,"width":6,"height":5,"content":{"$ref":"#/spec/panels/ready-0"}},{"x":18,"y":5,"width":6,"height":5,"content":{"$ref":"#/spec/panels/misscheduled-2755452721159086"}},{"x":12,"y":5,"width":6,"height":5,"content":{"$ref":"#/spec/panels/desired-4"}},{"x":0,"y":10,"width":8,"height":8,"content":{"$ref":"#/spec/panels/daemonSetsSizeByCluster-32"}},{"x":16,"y":10,"width":8,"height":8,"content":{"$ref":"#/spec/panels/replicasReady-9"}}]}},{"kind":"Grid","spec":{"display":{"title":"Replicas","collapse":{"open":true}},"items":[{"x":0,"y":8,"width":12,"height":8,"content":{"$ref":"#/spec/panels/replicasDesiredButNotReady-6"}},{"x":12,"y":0,"width":12,"height":8,"content":{"$ref":"#/spec/panels/replicasDesired-5"}},{"x":0,"y":0,"width":12,"height":8,"content":{"$ref":"#/spec/panels/replicasReady-1"}},{"x":12,"y":8,"width":12,"height":8,"content":{"$ref":"#/spec/panels/replicasMisscheduled-5553998018648320"}}]}},{"kind":"Grid","spec":{"display":{"title":"CPU","collapse":{"open":true}},"items":[{"x":0,"y":8,"width":14,"height":8,"content":{"$ref":"#/spec/panels/cpuRequestsLimitsAndUsage-18"}},{"x":0,"y":0,"width":14,"height":8,"content":{"$ref":"#/spec/panels/cpuUsageByDaemonSet-14"}},{"x":14,"y":0,"width":10,"height":16,"content":{"$ref":"#/spec/panels/mostCpuIntensiveDaemonSet-17"}}]}},{"kind":"Grid","spec":{"display":{"title":"Memory","collapse":{"open":true}},"items":[{"x":0,"y":0,"width":14,"height":8,"content":{"$ref":"#/spec/panels/memoryUsageByDaemonSet-15"}},{"x":0,"y":8,"width":14,"height":8,"content":{"$ref":"#/spec/panels/memoryRequestsLimitsAndUsage-19"}},{"x":14,"y":0,"width":10,"height":16,"content":{"$ref":"#/spec/panels/mostMemoryIntensiveDaemonSet-16"}}]}},{"kind":"Grid","spec":{"display":{"title":"Network","collapse":{"open":true}},"items":[{"x":0,"y":0,"width":14,"height":8,"content":{"$ref":"#/spec/panels/networkUsageRxTxRate-24"}},{"x":14,"y":0,"width":10,"height":16,"content":{"$ref":"#/spec/panels/mostNetworkIntensiveDaemonSets-29"}},{"x":0,"y":8,"width":14,"height":8,"content":{"$ref":"#/spec/panels/networkErrors-25"}}]}},{"kind":"Grid","spec":{"display":{"title":"Disk","collapse":{"open":true}},"items":[{"x":0,"y":8,"width":14,"height":8,"content":{"$ref":"#/spec/panels/diskUsage-27"}},{"x":0,"y":0,"width":14,"height":8,"content":{"$ref":"#/spec/panels/diskUsage-26"}},{"x":14,"y":0,"width":10,"height":16,"content":{"$ref":"#/spec/panels/mostDiskIntensiveDaemonSets-28"}}]}},{"kind":"Grid","spec":{"items":[]}}],"variables":[{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":"$__all","display":{"name":"env"},"name":"env","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"env"}},"refresh":"DashboardLoad"}},{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":"$__all","display":{"name":"cluster"},"name":"cluster","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"k8s_cluster_name","matchers":[]}},"refresh":"DashboardLoad"}},{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":"$__all","display":{"name":"daemonset"},"name":"daemonset","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"daemonset","matchers":[]}},"refresh":"DashboardLoad"}},{"kind":"ListVariable","spec":{"allow_all_value":true,"allow_multiple":true,"custom_all_value":".*","default_value":"$__all","display":{"name":"namespace"},"name":"namespace","plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"label_name":"namespace","matchers":[]}},"refresh":"DashboardLoad"}}],"duration":"1h"},"spec_version":"1"}'
