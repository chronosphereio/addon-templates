api_version: v1/config
kind: DropRule
spec:
  slug: kube_state_metrics_allowlist
  name: Allowlist - kube-state-metrics
  mode: ENABLED
  filters:
    - name: __name__
      value_glob: kube_*
    - name: __name__!
      value_glob: '{kube_cronjob_created,kube_cronjob_next_schedule_time,kube_cronjob_spec_starting_deadline_seconds,kube_cronjob_spec_suspend,kube_cronjob_status_active,kube_cronjob_status_last_schedule_time,kube_cronjob_status_last_successful_time,kube_daemonset_status_current_number_scheduled,kube_daemonset_status_desired_number_scheduled,kube_daemonset_status_number_available,kube_daemonset_status_number_misscheduled,kube_daemonset_status_number_ready,kube_deployment_spec_replicas,kube_deployment_spec_paused,kube_deployment_status_replicas,kube_deployment_status_replicas_available,kube_deployment_status_replicas_ready,kube_deployment_status_replicas_unavailable,kube_deployment_status_replicas_updated,kube_horizontalpodautoscaler_spec_max_replicas,kube_horizontalpodautoscaler_spec_min_replicas,kube_horizontalpodautoscaler_spec_target_metric,kube_horizontalpodautoscaler_status_current_replicas,kube_horizontalpodautoscaler_status_desired_replicas,kube_job_complete,kube_job_failed,kube_job_status_failed,kube_job_info,kube_job_status_active,kube_job_status_start_time,kube_namespace_status_phase,kube_node_created,kube_node_info,kube_node_spec_unschedulable,kube_node_status_allocatable,kube_node_status_capacity,kube_node_status_condition,kube_persistentvolume_capacity_bytes,kube_persistentvolume_info,kube_pod_container_resource_limits,kube_pod_container_resource_requests,kube_pod_container_status_last_terminated_exitcode,kube_pod_container_status_last_terminated_reason,kube_pod_container_status_ready,kube_pod_container_status_restarts_total,kube_pod_container_status_running,kube_pod_container_status_terminated,kube_pod_container_status_terminated_reason,kube_pod_container_status_waiting,kube_pod_container_status_waiting_reason,kube_pod_status_phase,kube_pod_status_ready,kube_pod_status_reason,kube_pod_status_scheduled,kube_pod_status_unschedulable,kube_poddisruptionbudget_created,kube_poddisruptionbudget_status_current_healthy,kube_poddisruptionbudget_status_desired_healthy,kube_poddisruptionbudget_status_expected_pods,kube_poddisruptionbudget_status_observed_generation,kube_poddisruptionbudget_status_pod_disruptions_allowed,kube_resourcequota,kube_statefulset_replicas,kube_statefulset_status_replicas,kube_statefulset_status_replicas_current,kube_statefulset_status_replicas_ready,kube_statefulset_status_replicas_updated,kube_statefulset_status_replicas_desired,kube_pod_info,kube_service_info,kube_deployment_labels,kube_ingress_info,kube_statefulset_labels,kube_daemonset_labels,kube_persistentvolumeclaim_info,kube_hpa_labels,kube_configmap_info,kube_secret_info,kube_networkpolicy_labels,kube_pod_container_info,kube_deployment_created,kube_service_spec_type,kube_replicaset_status_replicas,kube_replicaset_spec_replicas,kube_pod_labels,kube_namespace_labels,kube_endpoint_info,kube_deployment_labels,kube_statefulset_labels,kube_daemonset_labels,kube_hpa_labels,kube_networkpolicy_labels,kube_replicaset_status_ready_replicas}'