api_version: v1/config
kind: Dashboard
spec:
  slug: amazon-s3
  name: amazon-s3
  collection_slug: aws-collection
  dashboard_json: '{"kind":"Dashboard","spec":{"events":[],"panels":{"DeleteRequests":{"kind":"Panel","spec":{"display":{"description":"The
    number of HTTP GET List made for objects in an Amazon S3","name":"List Requests"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","unit":{"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(aws_s3_ListRequests_sum[$__interval]))","queryType":"Range","reducer":"Sum","series_name":{"type":"Labels"}}}}}]}},"ErrorRequests":{"kind":"Panel","spec":{"display":{"description":"The
    number of HTTP 4xx / 5xx client error status code requests made to an Amazon S3","name":"Error
    Requests"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","thresholds":{"steps":[{"value":1}]},"unit":{"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(aws_s3_4xxErrors_sum[$__interval]))
    + sum(sum_over_time(aws_s3_5xxErrors_sum[$__interval]))","queryType":"Range","reducer":"Sum"}}}}]}},"Errors":{"kind":"Panel","spec":{"display":{"description":"","name":"Errors"},"formulas":[],"links":[],"plugin":{"kind":"PieChart","spec":{"aggregation_percent":3,"label_format":["Percent"],"legend":{"mode":"Table","position":"Right","size":"Small"},"unit":{"abbreviate":true,"kind":"Decimal"},"visual":{"color_palette":"Categorical","show_series_name":true}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(aws_s3_4xxErrors_sum[$__interval]))","queryType":"Range","reducer":"Sum","series_name":{"name_pattern":"4xx","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(aws_s3_5xxErrors_sum[$__interval]))","queryType":"Range","reducer":"Sum","series_name":{"name_pattern":"5xx","type":"Labels"}}}}}]}},"Errors-1":{"kind":"Panel","spec":{"display":{"description":"","name":"Errors"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"Table","position":"Right"},"visual":{"area_opacity":0.3,"display":"bar","line_width":1,"stack":"All"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(aws_s3_4xxErrors_sum[$__interval]))","series_name":{"name_pattern":"4xx","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(aws_s3_5xxErrors_sum[$__interval]))","series_name":{"name_pattern":"5xx","type":"Labels"}}}}}]}},"GetRequests":{"kind":"Panel","spec":{"display":{"description":"The
    number of HTTP POST requests made for objects in an Amazon S3","name":"Post Requests"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","unit":{"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(aws_s3_PostRequests_sum[$__interval]))
    or on() vector(0)","queryType":"Range","reducer":"Sum","series_name":{"type":"Labels"}}}}}]}},"GetRequests-2":{"kind":"Panel","spec":{"display":{"description":"The
    number of HTTP PUT requests made for objects in an Amazon S3","name":"Put Requests"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","unit":{"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(aws_s3_PutRequests_sum[$__interval]))","queryType":"Range","reducer":"Sum","series_name":{"type":"Labels"}}}}}]}},"GetRequestsbyBucket":{"kind":"Panel","spec":{"display":{"description":"","name":"Post
    Requests by Bucket"},"formulas":[],"links":[],"plugin":{"kind":"PieChart","spec":{"aggregation_percent":1,"label_format":["Percent"],"legend":{"mode":"Table","position":"Right","size":"Small"},"unit":{"abbreviate":true,"kind":"Decimal"},"visual":{"color_palette":"Categorical","display":"Donut","show_series_name":true}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by(dimension_BucketName) (sum_over_time(aws_s3_PostRequests_sum[$__interval]))","queryType":"Range","reducer":"Sum","series_name":{"name_pattern":"{{
    dimension_BucketName }}","type":"Labels"}}}}}]}},"GetRequestsbyBucket-6":{"kind":"Panel","spec":{"display":{"description":"","name":"Post
    Requests by Bucket"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"Table","position":"Right","size":"Medium"},"visual":{"area_opacity":0.3,"display":"bar","line_width":1.5,"stack":"All"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by(dimension_BucketName) (sum_over_time(aws_s3_PostRequests_sum[$__interval]))","series_name":{"name_pattern":"{{
    dimension_BucketName }}","type":"Labels"}}}}}]}},"PostRequests":{"kind":"Panel","spec":{"display":{"description":"The
    number of HTTP Select requests made for objects in an Amazon S3","name":"Select
    Requests"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","unit":{"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(aws_s3_SelectRequests_sum[$__interval]))
    or on() vector(0)","queryType":"Range","reducer":"Sum","series_name":{"type":"Labels"}}}}}]}},"PostRequestsbyBucket":{"kind":"Panel","spec":{"display":{"description":"","name":"Put
    Requests by Bucket"},"formulas":[],"links":[],"plugin":{"kind":"PieChart","spec":{"aggregation_percent":1,"label_format":["Percent"],"legend":{"mode":"Table","position":"Right","size":"Small"},"unit":{"abbreviate":true,"kind":"Decimal"},"visual":{"color_palette":"Categorical","display":"Donut","show_series_name":true}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by(dimension_BucketName) (sum_over_time(aws_s3_PutRequests_sum[$__interval]))","queryType":"Range","reducer":"Sum","series_name":{"name_pattern":"{{
    dimension_BucketName }}","type":"Labels"}}}}}]}},"PostRequestsbyBucket-7":{"kind":"Panel","spec":{"display":{"description":"","name":"Put
    Requests by Bucket"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"Table","position":"Right","size":"Medium"},"visual":{"area_opacity":0.3,"display":"bar","line_width":1.5,"stack":"All"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by(dimension_BucketName) (sum_over_time(aws_s3_PutRequests_sum[$__interval]))","series_name":{"name_pattern":"{{
    dimension_BucketName }}","type":"Labels"}}}}}]}},"PutRequests":{"kind":"Panel","spec":{"display":{"description":"The
    number of HTTP DELETE requests made for objects in an Amazon S3","name":"Delete
    Requests"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","unit":{"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(aws_s3_DeleteRequests_sum[$__interval]))","queryType":"Range","reducer":"Sum","series_name":{"type":"Labels"}}}}}]}},"PutRequestsbyBucket":{"kind":"Panel","spec":{"display":{"description":"","name":"Delete
    Requests by Bucket"},"formulas":[],"links":[],"plugin":{"kind":"PieChart","spec":{"aggregation_percent":1,"label_format":["Percent"],"legend":{"mode":"Table","position":"Right","size":"Small"},"unit":{"abbreviate":true,"kind":"Decimal"},"visual":{"color_palette":"Categorical","display":"Donut","show_series_name":true}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by(dimension_BucketName) (sum_over_time(aws_s3_DeleteRequests_sum[$__interval]))","queryType":"Range","reducer":"Sum","series_name":{"name_pattern":"{{
    dimension_BucketName }}","type":"Labels"}}}}}]}},"PutRequestsbyBucket-8":{"kind":"Panel","spec":{"display":{"description":"","name":"Put
    Requests by Bucket"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"Table","position":"Right","size":"Medium"},"visual":{"area_opacity":0.3,"display":"line","line_width":1.5,"null_behavior":"Connected","stack":"All"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by(dimension_BucketName) (sum_over_time(aws_s3_DeleteRequests_sum[$__interval]))","series_name":{"name_pattern":"{{
    dimension_BucketName }}","type":"Labels"}}}}}]}},"S3Buckets":{"kind":"Panel","spec":{"display":{"description":"","name":"S3
    Buckets"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","unit":{"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"count(count
    by(dimension_BucketName) (aws_s3_AllRequests_sum))","queryType":"Range","reducer":"Last"}}}}]}},"S3Buckets-1":{"kind":"Panel","spec":{"display":{"description":"The
    total number of HTTP requests made to an Amazon S3 bucket, regardless of type.
    If you''re using a metrics configuration with a filter, then this metric returns
    only the HTTP requests that meet the filter''s requirements.","name":"Total Requests"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","unit":{"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(aws_s3_AllRequests_sum[$__interval]))","queryType":"Range","reducer":"Sum","series_name":{"type":"Labels"}}}}}]}},"TotalRequests":{"kind":"Panel","spec":{"display":{"description":"The
    number of HTTP GET requests made for objects in an Amazon S3","name":"Get Requests"},"formulas":[],"links":[],"plugin":{"kind":"StatChart","spec":{"calculation":"LastNumber","unit":{"kind":"Decimal"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    (sum_over_time(aws_s3_GetRequests_sum[$__interval]))","queryType":"Range","reducer":"Sum","series_name":{"type":"Labels"}}}}}]}},"TotalRequests-3":{"kind":"Panel","spec":{"display":{"description":"","name":"Total
    Requests by Bucket"},"formulas":[],"links":[],"plugin":{"kind":"PieChart","spec":{"aggregation_percent":1,"label_format":["Percent"],"legend":{"mode":"Table","position":"Right","size":"Small"},"unit":{"abbreviate":true,"kind":"Decimal"},"visual":{"color_palette":"Categorical","display":"Donut","show_series_name":true}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by(dimension_BucketName) (sum_over_time(aws_s3_AllRequests_sum[$__interval]))","queryType":"Range","reducer":"Sum","series_name":{"name_pattern":"{{
    dimension_BucketName }}","type":"Labels"}}}}}]}},"TotalRequests-4":{"kind":"Panel","spec":{"display":{"description":"","name":"Total
    Requests by Bucket"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"Table","position":"Right","size":"Medium"},"visual":{"area_opacity":0.3,"display":"bar","line_width":1.5,"null_behavior":"Connected","stack":"All"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by(dimension_BucketName) (sum_over_time(aws_s3_AllRequests_sum[$__interval]))","series_name":{"name_pattern":"{{
    dimension_BucketName }}","type":"Labels"}}}}}]}},"TotalRequestsbyBucket":{"kind":"Panel","spec":{"display":{"description":"","name":"Get
    Requests by Bucket"},"formulas":[],"links":[],"plugin":{"kind":"PieChart","spec":{"aggregation_percent":1,"label_format":["Percent"],"legend":{"mode":"Table","position":"Right","size":"Small"},"unit":{"abbreviate":true,"kind":"Decimal"},"visual":{"color_palette":"Categorical","display":"Donut","show_series_name":true}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by(dimension_BucketName) (sum_over_time(aws_s3_GetRequests_sum[$__interval]))","queryType":"Range","reducer":"Avg","series_name":{"name_pattern":"{{
    dimension_BucketName }}","type":"Labels"}}}}}]}},"TotalRequestsbyBucket-11":{"kind":"Panel","spec":{"display":{"description":"","name":"Total
    Requests by Type"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"Table","position":"Right"},"visual":{"area_opacity":0.3,"display":"bar","line_width":1,"null_behavior":"NullAsZero","stack":"All"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"min_step":"","query":"sum
    (sum_over_time(aws_s3_GetRequests_sum[$__interval]))","series_name":{"name_pattern":"GET","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    (sum_over_time(aws_s3_PutRequests_sum[$__interval]))","series_name":{"name_pattern":"PUT","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    (sum_over_time(aws_s3_DeleteRequests_sum[$__interval]))","series_name":{"name_pattern":"DELETE","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    (sum_over_time(aws_s3_HeadRequests_sum[$__interval])) ","series_name":{"name_pattern":"HEAD","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    (sum_over_time(aws_s3_PostRequests_sum[$__interval])) ","series_name":{"name_pattern":"POST","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    (sum_over_time(aws_s3_SelectRequests_sum[$__interval])) ","series_name":{"name_pattern":"SELECT","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    (sum_over_time(aws_s3_ListRequests_sum[$__interval])) ","series_name":{"name_pattern":"List","type":"Labels"}}}}}]}},"TotalRequestsbyBucket-5":{"kind":"Panel","spec":{"display":{"description":"","name":"Get
    Requests by Bucket"},"formulas":[],"links":[],"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"mode":"Table","position":"Right","size":"Medium"},"visual":{"area_opacity":0.3,"display":"bar","line_width":1.5,"stack":"All"}}},"queries":[{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    by(dimension_BucketName) (sum_over_time(aws_s3_GetRequests_sum[$__interval]))","series_name":{"name_pattern":"{{
    dimension_BucketName }}","type":"Labels"}}}}}]}},"TotalRequestsbyBucket-9":{"kind":"Panel","spec":{"display":{"description":"","name":"Total
    Requests by Type"},"formulas":[],"links":[],"plugin":{"kind":"PieChart","spec":{"aggregation_percent":1,"label_format":["Percent"],"legend":{"mode":"Table","position":"Right","size":"Small"},"unit":{"abbreviate":true,"kind":"Decimal"},"visual":{"color_palette":"Categorical","display":"Donut","show_series_name":true}}},"queries":[{"kind":"DataQuery","spec":{"disabled":true,"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum
    (aws_s3_AllRequests_sum)","queryType":"Range","reducer":"Avg","series_name":{"name_pattern":"{{
    dimension_BucketName }}","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(aws_s3_GetRequests_sum[$__interval]))
    or on() vector(0)","queryType":"Range","reducer":"Sum","series_name":{"name_pattern":"GET","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(aws_s3_PutRequests_sum[$__interval]))
    or on() vector(0)","queryType":"Range","reducer":"Sum","series_name":{"name_pattern":"PUT","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(aws_s3_DeleteRequests_sum[$__interval]))
    or on() vector(0)","queryType":"Range","reducer":"Sum","series_name":{"name_pattern":"DELETE","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(aws_s3_HeadRequests_sum[$__interval]))
    or on() vector(0)","queryType":"Range","reducer":"Sum","series_name":{"name_pattern":"HEAD","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(aws_s3_PostRequests_sum[$__interval]))
    or on() vector(0)","queryType":"Range","reducer":"Sum","series_name":{"name_pattern":"POST","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(aws_s3_SelectRequests_sum[$__interval]))
    or on() vector(0)","queryType":"Range","reducer":"Sum","series_name":{"name_pattern":"SELECT","type":"Labels"}}}}},{"kind":"DataQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(aws_s3_ListRequests_sum[$__interval]))
    or on() vector(0)","series_name":{"name_pattern":"LIST","type":"Labels"}}}}}]}}},"layouts":[{"kind":"Grid","spec":{"display":{"title":"Requests","collapse":{"open":true}},"items":[{"x":12,"y":0,"width":4,"height":4,"content":{"$ref":"#/spec/panels/TotalRequests"}},{"x":16,"y":0,"width":4,"height":4,"content":{"$ref":"#/spec/panels/GetRequests"}},{"x":20,"y":0,"width":4,"height":4,"content":{"$ref":"#/spec/panels/PostRequests"}},{"x":0,"y":0,"width":4,"height":8,"content":{"$ref":"#/spec/panels/S3Buckets"}},{"x":4,"y":0,"width":4,"height":8,"content":{"$ref":"#/spec/panels/S3Buckets-1"}},{"x":8,"y":0,"width":4,"height":8,"content":{"$ref":"#/spec/panels/ErrorRequests"}},{"x":12,"y":4,"width":4,"height":4,"content":{"$ref":"#/spec/panels/GetRequests-2"}},{"x":16,"y":4,"width":4,"height":4,"content":{"$ref":"#/spec/panels/PutRequests"}},{"x":20,"y":4,"width":4,"height":4,"content":{"$ref":"#/spec/panels/DeleteRequests"}},{"x":0,"y":8,"width":8,"height":8,"content":{"$ref":"#/spec/panels/TotalRequests-3"}},{"x":8,"y":8,"width":16,"height":8,"content":{"$ref":"#/spec/panels/TotalRequests-4"}},{"x":0,"y":16,"width":8,"height":8,"content":{"$ref":"#/spec/panels/TotalRequestsbyBucket-9"}},{"x":8,"y":24,"width":16,"height":8,"content":{"$ref":"#/spec/panels/TotalRequestsbyBucket-5"}},{"x":8,"y":16,"width":16,"height":8,"content":{"$ref":"#/spec/panels/TotalRequestsbyBucket-11"}},{"x":0,"y":24,"width":8,"height":8,"content":{"$ref":"#/spec/panels/TotalRequestsbyBucket"}},{"x":0,"y":32,"width":8,"height":8,"content":{"$ref":"#/spec/panels/GetRequestsbyBucket"}},{"x":8,"y":32,"width":16,"height":8,"content":{"$ref":"#/spec/panels/GetRequestsbyBucket-6"}},{"x":0,"y":40,"width":8,"height":8,"content":{"$ref":"#/spec/panels/PostRequestsbyBucket"}},{"x":8,"y":40,"width":16,"height":8,"content":{"$ref":"#/spec/panels/PostRequestsbyBucket-7"}},{"x":8,"y":48,"width":16,"height":8,"content":{"$ref":"#/spec/panels/PutRequestsbyBucket-8"}},{"x":0,"y":48,"width":8,"height":8,"content":{"$ref":"#/spec/panels/PutRequestsbyBucket"}},{"x":0,"y":56,"width":8,"height":8,"content":{"$ref":"#/spec/panels/Errors"}},{"x":8,"y":56,"width":16,"height":8,"content":{"$ref":"#/spec/panels/Errors-1"}}]}}],"variables":[],"duration":"30m"},"spec_version":"1"}'
